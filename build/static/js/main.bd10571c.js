/*! For license information please see main.bd10571c.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Gm){var r=Gm}Reflect.construct(e,[],t)}else{try{t.call()}catch(Gm){r=Gm}e.call(t.prototype)}else{try{throw Error()}catch(Gm){r=Gm}e()}}catch(Gm){if(Gm&&r&&"string"===typeof Gm.stack){for(var i=Gm.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case k:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(cb){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,xe=null;function ke(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function Ce(e){Te?xe?xe.push(e):xe=[e]:Te=e}function Ie(){if(Te){var e=Te,t=xe;if(xe=Te=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==Te||null!==xe)&&(Ae(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,s,o,a,l){Le=!1,Fe=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,Tt,xt,kt,Ct=!1,It=[],_t=null,At=null,Pt=null,Nt=new Map,Dt=new Map,Rt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==_t&&jt(_t)&&(_t=null),null!==At&&jt(At)&&(At=null),null!==Pt&&jt(Pt)&&(Pt=null),Nt.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Bt(_t,e),null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Lt(_t,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Lt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(F({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function kn(){return xn}var Cn=F({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Cn),_n=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Nn),Rn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Mn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,Ee(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Tr={},xr={};function kr(e){if(Tr[e])return Tr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Tr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=kr("animationend"),Ir=kr("animationiteration"),_r=kr("animationstart"),Ar=kr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Mr=Nr[Rr];Dr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Dr(Cr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(_r,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=Ee(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Cr:case Ir:case _r:l=vn;break;case Ar:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=De(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[fi]||null}var Si=[],Ti=-1;function xi(e){return{current:e}}function ki(e){0>Ti||(e.current=Si[Ti],Si[Ti]=null,Ti--)}function Ci(e,t){Ti++,Si[Ti]=e.current,e.current=t}var Ii={},_i=xi(Ii),Ai=xi(!1),Pi=Ii;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ai),ki(_i)}function Mi(e,t,n){if(_i.current!==Ii)throw Error(s(168));Ci(_i,t),Ci(Ai,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=_i.current,Ci(_i,e),Ci(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(_i),Ci(_i,e)):ki(Ai),Ci(Ai,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,zi),i}finally{wt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===T&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===T){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&ys(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===T?((s=Oc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=jc(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(O(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=ws(!0),Es=ws(!1),Ss=xi(null),Ts=null,xs=null,ks=null;function Cs(){ks=xs=Ts=null}function Is(e){var t=Ss.current;ki(Ss),e._currentValue=t}function _s(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Ts=e,ks=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===Ts)throw Error(s(308));xs=e,Ts.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Ns=null;function Ds(e){null===Ns?Ns=[e]:Ns.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Os=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=xi(Hs),Ks=xi(Hs),Gs=xi(Hs);function Qs(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Ci(Gs,t),Ci(Ks,e),Ci(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ws),Ci(Ws,t)}function Xs(){ki(Ws),ki(Ks),ki(Gs)}function $s(e){Qs(Gs.current);var t=Qs(Ws.current),n=le(t,e.type);t!==n&&(Ci(Ks,e),Ci(Ws,n))}function Js(e){Ks.current===e&&(ki(Ws),ki(Ks))}var Zs=xi(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function xo(e,t){var n=oo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Lo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,Co.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&Ao(e)}function Io(e,t,n){return n((function(){_o(t)&&Ao(e)}))}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=Ms(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return wo().memoizedState}function Ro(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=No(t,n,s,r))}oo.flags|=e,i.memoizedState=No(1|t,n,s,r)}function Oo(e,t){return Ro(8390656,8,e,t)}function Lo(e,t){return Mo(2048,8,e,t)}function Fo(e,t){return Mo(4,2,e,t)}function jo(e,t){return Mo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,Vo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Ko(){return wo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),$o(n,t,r)}}function Qo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Gm){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),$o(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&so)||ko(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Oo(Io.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Al.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:zo,useContext:Ps,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:Eo,useRef:Do,useState:function(){return Eo(bo)},useDebugValue:Bo,useDeferredValue:function(e){return Ho(wo(),ao.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],wo().memoizedState]},useMutableSource:To,useSyncExternalStore:xo,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:zo,useContext:Ps,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:So,useRef:Do,useState:function(){return So(bo)},useDebugValue:Bo,useDeferredValue:function(e){var t=wo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[So(bo)[0],wo().memoizedState]},useMutableSource:To,useSyncExternalStore:xo,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Di(t)?Pi:_i.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Di(t)?Pi:_i.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ha(0,t)},n}function pa(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?Es(t,null,n,r):bs(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||wa?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ta(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ca(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Rl,Dl),Dl|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Di(n)?Pi:_i.current;return s=Ni(t,s),As(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||wa?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ia(e,t,n,r,i){if(Di(n)){var s=!0;Li(t)}else s=!1;if(As(t,i),null===t.stateNode)qa(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ni(t,c=Di(n)?Pi:_i.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Os=!1;var d=t.memoizedState;o.state=d,zs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Os?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Os||sa(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ni(t,l=Di(n)?Pi:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Os=!1,d=t.memoizedState,o.state=d,zs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Os?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Os||sa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,s,i)}function _a(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ha(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Ys(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Na,Da,Ra,Ma,Oa={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Oa,e):ja(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ms(e,i),nc(r,e,i,-1))}return mc(),Va(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_s(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ka(t),null;case 3:return r=t.stateNode,Xs(),ki(Ai),ki(_i),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Da(e,t),Ka(t),null;case 5:Js(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=Qs(Ws.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ws.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xs(),Da(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return Is(t.type._context),Ka(t),null;case 19:if(ki(Zs),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qa(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),ki(Ai),ki(_i),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Xs(),null;case 10:return Is(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ws.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Gm){xc(i,t,Gm)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){xc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){xc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,ml(t,e),Xa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Ja=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(qm){xc(e,e.return,qm)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,Ja=l):Sl(i);for(;null!==s;)Ja=s,wl(s,t,n),s=s.sibling;Ja=i,Ya=a,Xa=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&il(t)}catch(ng){xc(t,t.return,ng)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(qm){xc(t,n,qm)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(qm){xc(t,i,qm)}}var s=t.return;try{il(t)}catch(qm){xc(t,s,qm)}break;case 5:var o=t.return;try{il(t)}catch(qm){xc(t,o,qm)}}}catch(qm){xc(t,t.return,qm)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Tl,xl=Math.ceil,kl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,_l=0,Al=null,Pl=null,Nl=0,Dl=0,Rl=xi(0),Ml=0,Ol=null,Ll=0,Fl=0,jl=0,Vl=null,Ul=null,Bl=0,zl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&_l)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Nl?Nl&-Nl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&_l)&&e===Al||(e===Al&&(0===(2&_l)&&(Fl|=n),4===Ml&&ac(e,Nl)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(zl=$e()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Al?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),oi((function(){0===(6&_l)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&_l))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_l;_l|=2;var o=pc();for(Al===e&&Nl===t||(ql=null,zl=$e()+500,dc(e,t));;)try{yc();break}catch(l){fc(e,l)}Cs(),kl.current=o,_l=i,null!==Pl?t=0:(Al=null,Nl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ol,dc(e,0),ac(e,r),rc(e,$e()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ol,dc(e,0),ac(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,Ul,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Ul,ql),t);break}Ec(e,Ul,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Ul,ql),r);break}Ec(e,Ul,ql);break;default:throw Error(s(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(s(327));Sc();var t=dt(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ol,dc(e,0),ac(e,t),rc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Ul,ql),rc(e,$e()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(zl=$e()+500,Vi&&zi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&_l)&&Sc();var t=_l;_l|=1;var n=Il.transition,r=wt;try{if(Il.transition=null,wt=1,e)return e()}finally{wt=r,Il.transition=n,0===(6&(_l=t))&&zi()}}function hc(){Dl=Rl.current,ki(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xs(),ki(Ai),ki(_i),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:ki(Zs);break;case 10:Is(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Pl=e=Rc(e.current,null),Nl=Dl=t,Ml=0,Ol=null,jl=Fl=Ll=0,Ul=Vl=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(r=(n=Ns[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Cs(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Cl.current=null,null===n||null===n.return){Ml=1,Ol=t,Pl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,fa(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(og){t=og,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Jo,null===e?Jo:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0===(268435455&Ll)&&0===(268435455&Fl)||ac(Al,Nl)}function gc(e,t){var n=_l;_l|=2;var r=pc();for(Al===e&&Nl===t||(ql=null,dc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Cs(),_l=n,kl.current=r,null!==Pl)throw Error(s(261));return Al=null,Nl=0,Ml}function vc(){for(;null!==Pl;)wc(Pl)}function yc(){for(;null!==Pl&&!Ye();)wc(Pl)}function wc(e){var t=Tl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ml=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Ec(e,t,n){var r=wt,i=Il.transition;try{Il.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&_l))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Pl=Al=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ac(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var a=wt;wt=1;var l=_l;_l|=4,Cl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Av){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Av){xc(t,t.return,Av)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),_l=l,wt=a,Il.transition=o}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zi()}(e,t,n,r)}finally{Il.transition=i,wt=r}return null}function Sc(){if(null!==Ql){var e=bt(Yl),t=Il.transition,n=wt;try{if(Il.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&_l))throw Error(s(331));var i=_l;for(_l|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break e}Ja=o.return}}var w=e.current;for(Ja=w;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=w;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(og){xc(l,l.return,og)}if(l===a){Ja=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Ja=E;break e}Ja=l.return}}if(_l=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(og){}r=!0}return r}finally{wt=n,Il.transition=t}}return!1}function Tc(e,t,n){e=Vs(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vs(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Nl&n)===n&&(4===Ml||3===Ml&&(130023424&Nl)===Nl&&500>$e()-Bl?dc(e,0):jl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ms(e,t))&&(vt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return Oc(n.children,i,o,t);case x:a=8,i|=8;break;case k:return(e=Nc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case I:a=9;break e;case _:a=11;break e;case N:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function zc(e,t,n,r,i,s,o,a,l){return(e=Uc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=js(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,o))&&(nc(e,i,o,s),Us(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:$s(t);break;case 1:Di(t.type)&&Li(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Ni(t,_i.current);As(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=_a(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),zs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(Ss,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=js(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_s(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_s(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Ps(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,As(t,n),oa(t,r,i),la(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&_l)&&(zl=$e()+500,zi()))}break;case 13:uc((function(){var t=Ms(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Tt=function(e){if(13===e.tag){var t=tc(e),n=Ms(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},xt=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Ce,Ie,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+_(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var c=0;c<e.length;c++){var u=s+_(a=e[c],c);l+=A(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=s+_(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(S);else{var t=r(u);null!==t&&M(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&M(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,x=!1,k=null,C=-1,I=5,_=-1;function A(){return!(t.unstable_now()-_<I)}function P(){if(null!==k){var e=t.unstable_now();_=e;var n=!0;try{n=k(!0,e)}finally{n?T():(x=!1,k=null)}}else x=!1}if("function"===typeof w)T=function(){w(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=P,T=function(){D.postMessage(null)}}else T=function(){v(P,0)};function R(e){k=e,x||(x=!0,T())}function M(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,M(E,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),o=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,p=r.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=d(b.location,e,t);n&&n(i,e),g=v()+1;let a=h(i,g),l=b.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}o&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=r.Replace;let i=d(b.location,e,t);n&&n(i,e),g=v();let s=h(i,g),a=b.createHref(i);u.replaceState(s,"",a),o&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=D(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=N(i);o=A(s[a],e,r)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:_(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,S=3,T=2,x=1,k=10,C=-2,I=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=C),t&&(r+=T),n.filter((e=>!I(e))).reduce(((e,t)=>e+(E.test(t)?S:""===t?x:k)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:F([s,u.pathname]),pathnameBase:j(F([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:U(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const F=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const W=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const X=i.createContext(null);function $(){return null!=i.useContext(Q)}function J(){return $()||c(!1),i.useContext(Q).location}function Z(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=he(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);Z((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))}),[e,t]);return r}():function(){$()||c(!1);let e=i.useContext(W),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(Y),{pathname:o}=J(),a=JSON.stringify(O(s,n.v7_relativeSplatPath)),l=i.useRef(!1);Z((()=>{l.current=!0}));let u=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=L(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e]);return u}()}function te(){let{matches:e}=i.useContext(Y),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:s}=i.useContext(Y),{pathname:o}=J(),a=JSON.stringify(O(s,r.v7_relativeSplatPath));return i.useMemo((()=>L(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function re(e,t,n,s){$()||c(!1);let{navigator:o}=i.useContext(G),{matches:a}=i.useContext(Y),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=J();if(t){var m;let e="string"===typeof t?p(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||c(!1),d=e}else d=f;let g=d.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=v(e,{pathname:y});let b=le(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&b?i.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext(X),n=de(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,c=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||se,u&&(h<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):h===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=i.useContext(W);return t||c(!1),t}function de(e){let t=i.useContext(K);return t||c(!1),t}function fe(e){let t=function(){let e=i.useContext(Y);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};const me={};const ge=(e,t,n)=>{var r;me[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(me[r]=!0,console.warn(r))};function ve(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&ge("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||ge("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&ge("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&ge("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&ge("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&ge("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}s.startTransition;function ye(e){c(!1)}function we(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:u}=e;$()&&c(!1);let h=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:h,navigator:a,static:l,future:H({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,w=i.useMemo((()=>{let e=D(f,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}}),[h,f,m,g,v,y,o]);return null==w?null:i.createElement(G.Provider,{value:d},i.createElement(Q.Provider,{children:n,value:w}))}function be(e){let{children:t,location:n}=e;return re(Ee(t),n)}new Promise((()=>{}));i.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ee(e.props.children,s));e.type!==ye&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ee(e.props.children,s)),n.push(o)})),n}var Se=n(950),Te=n.t(Se,2);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(wA){}new Map;const Ie=s.startTransition;Te.flushSync,s.useId;function _e(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=i.useCallback((e=>{h&&Ie?Ie((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>l.listen(p)),[l,p]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,m=ke(e,Ce),{basename:g}=i.useContext(G),v=!1;if("string"===typeof h&&Pe.test(h)&&(n=h,Ae))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=D(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(wA){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;$()||c(!1);let{basename:r,navigator:s}=i.useContext(G),{hash:o,pathname:a,search:l}=ne(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:F([r,a])),s.createHref({pathname:u,search:l,hash:o})}(h,{relative:s}),w=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),h=ne(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[u,c,h,r,s,n,e,o,a,l])}(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:p});return i.createElement("a",xe({},m,{href:n||y,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:u}))}));var De,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Me=n(579);const Oe=(0,i.createContext)({});function Le(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Fe="undefined"!==typeof window,je=Fe?i.useLayoutEffect:i.useEffect,Ve=(0,i.createContext)(null),Ue=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Be extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ze(e){let{children:t,isPresent:n,anchorX:r}=e;const s=(0,i.useId)(),o=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,i.useContext)(Ue);return(0,i.useInsertionEffect)((()=>{const{width:e,height:t,top:i,left:c,right:u}=a.current;if(n||!o.current||!e||!t)return;const h="left"===r?"left: ".concat(c):"right: ".concat(u);o.current.dataset.motionPopId=s;const d=document.createElement("style");return l&&(d.nonce=l),document.head.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(d)}}),[n]),(0,Me.jsx)(Be,{isPresent:n,childRef:o,sizeRef:a,children:i.cloneElement(t,{ref:o})})}const qe=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l,anchorX:c}=e;const u=Le(He),h=(0,i.useId)(),d=(0,i.useCallback)((e=>{u.set(e,!0);for(const t of u.values())if(!t)return;s&&s()}),[u,s]),f=(0,i.useMemo)((()=>({id:h,initial:n,isPresent:r,custom:o,onExitComplete:d,register:e=>(u.set(e,!1),()=>u.delete(e))})),a?[Math.random(),d]:[r,d]);return(0,i.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[r]),i.useEffect((()=>{!r&&!u.size&&s&&s()}),[r]),"popLayout"===l&&(t=(0,Me.jsx)(ze,{isPresent:r,anchorX:c,children:t})),(0,Me.jsx)(Ve.Provider,{value:f,children:t})};function He(){return new Map}function We(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(Ve);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,o=(0,i.useId)();(0,i.useEffect)((()=>{if(e)return s(o)}),[e]);const a=(0,i.useCallback)((()=>e&&r&&r(o)),[o,r,e]);return!n&&r?[!1,a]:[!0]}const Ke=e=>e.key||"";function Ge(e){const t=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&t.push(e)})),t}const Qe=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"}=e;const[u,h]=We(l),d=(0,i.useMemo)((()=>Ge(t)),[t]),f=l&&!u?[]:d.map(Ke),p=(0,i.useRef)(!0),m=(0,i.useRef)(d),g=Le((()=>new Map)),[v,y]=(0,i.useState)(d),[w,b]=(0,i.useState)(d);je((()=>{p.current=!1,m.current=d;for(let e=0;e<w.length;e++){const t=Ke(w[e]);f.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}}),[w,f.length,f.join("-")]);const E=[];if(d!==v){let e=[...d];for(let t=0;t<w.length;t++){const n=w[t],r=Ke(n);f.includes(r)||(e.splice(t,0,n),E.push(n))}return"wait"===a&&E.length&&(e=E),b(Ge(e)),y(d),null}const{forceRender:S}=(0,i.useContext)(Oe);return(0,Me.jsx)(Me.Fragment,{children:w.map((e=>{const t=Ke(e),i=!(l&&!u)&&(d===w||f.includes(t));return(0,Me.jsx)(qe,{isPresent:i,initial:!(p.current&&!r)&&void 0,custom:n,presenceAffectsLayout:o,mode:a,onExitComplete:i?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach((t=>{t||(e=!1)})),e&&(null===S||void 0===S||S(),b(m.current),l&&(null===h||void 0===h||h()),s&&s())},anchorX:c,children:e},t)}))})};function Ye(e,t){-1===e.indexOf(t)&&e.push(t)}function Xe(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $e=e=>e;let Je=$e,Ze=$e;const et=!1,tt=!1;function nt(e){let t;return()=>(void 0===t&&(t=e()),t)}const rt=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class it{constructor(){this.subscriptions=[]}add(e){return Ye(this.subscriptions,e),()=>Xe(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const st=e=>1e3*e,ot=e=>e/1e3;function at(e,t){return t?e*(1e3/t):0}new Set;function lt(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function ut(e){var t=function(e,t){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ct(t)?t:t+""}function ht(e,t,n){return(t=ut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function mt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gt(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function vt(e,t,n,r){if("function"===typeof t){const[i,s]=gt(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=gt(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function yt(e,t,n){const r=e.getProps();return vt(r,t,void 0!==n?n:r.custom,e)}const wt=nt((()=>void 0!==window.ScrollTimeline));class bt{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>wt()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Et extends bt{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function St(e,t){return e?e[t]||e.default||e:void 0}const Tt=2e4;function xt(e){let t=0;let n=e.next(t);for(;!n.done&&t<Tt;)t+=50,n=e.next(t);return t>=Tt?1/0:t}function kt(e){return"function"===typeof e}function Ct(e,t){e.timeline=t,e.onfinish=null}const It=e=>Array.isArray(e)&&"number"===typeof e[0],_t={linearEasing:void 0};function At(e,t){const n=nt(e);return()=>{var e;return null!==(e=_t[t])&&void 0!==e?e:n()}}const Pt=At((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(wA){return!1}return!0}),"linearEasing"),Nt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(rt(0,i-1,s))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function Dt(e){return Boolean("function"===typeof e&&Pt()||!e||"string"===typeof e&&(e in Mt||Pt())||It(e)||Array.isArray(e)&&e.every(Dt))}const Rt=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Mt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rt([0,.65,.55,1]),circOut:Rt([.55,0,1,.45]),backIn:Rt([.31,.01,.66,-.59]),backOut:Rt([.33,1.53,.69,.99])};function Ot(e,t){return e?"function"===typeof e&&Pt()?Nt(e,t):It(e)?Rt(e):Array.isArray(e)?e.map((e=>Ot(e,t)||Mt.easeOut)):Mt[e]:void 0}const Lt=["read","resolveKeyframes","update","preRender","render","postRender"],Ft={value:null,addProjectionMetrics:null};function jt(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Lt.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{a=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Ft.value&&Ft.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=o,f=()=>{const s=tt?i.timestamp:performance.now();n=!1,tt||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=Lt.reduce(((t,s)=>{const a=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,s,o)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<Lt.length;t++)o[Lt[t]].cancel(e)},state:i,steps:o}}const{schedule:Vt,cancel:Ut,state:Bt,steps:zt}=jt("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:$e,!0),{schedule:qt,cancel:Ht}=jt(queueMicrotask,!1);let Wt;function Kt(){Wt=void 0}const Gt={now:()=>(void 0===Wt&&Gt.set(Bt.isProcessing||tt?Bt.timestamp:performance.now()),Wt),set:e=>{Wt=e,queueMicrotask(Kt)}},Qt={x:!1,y:!1};function Yt(){return Qt.x||Qt.y}function Xt(e,t){const n=function(e,t,n){var r;if(e instanceof EventTarget)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,ft(ft({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function $t(e){return!("touch"===e.pointerType||Yt())}function Jt(e,t){const n="".concat(t,"PointerCapture");if(e.target instanceof Element&&n in e.target&&void 0!==e.pointerId)try{e.target[n](e.pointerId)}catch(wA){}}const Zt=(e,t)=>!!t&&(e===t||Zt(e,t.parentElement)),en=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,tn=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const nn=new WeakSet;function rn(e){return t=>{"Enter"===t.key&&e(t)}}function sn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function on(e){return en(e)&&!Yt()}function an(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Xt(e,n),o=e=>{const n=e.currentTarget;if(!n||!on(e)||nn.has(n))return;nn.add(n),Jt(e,"set");const r=t(n,e),s=(e,t)=>{n.removeEventListener("pointerup",o),n.removeEventListener("pointercancel",a),Jt(e,"release"),on(e)&&nn.has(n)&&(nn.delete(n),"function"===typeof r&&r(e,{success:t}))},o=e=>{const t=!!e.isTrusted&&(r=e,i=n instanceof Element?n.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},r.clientX<i.left||r.clientX>i.right||r.clientY<i.top||r.clientY>i.bottom);var r,i;s(e,!t&&(!(n instanceof Element)||Zt(n,e.target)))},a=e=>{s(e,!1)};n.addEventListener("pointerup",o,i),n.addEventListener("pointercancel",a,i),n.addEventListener("lostpointercapture",a,i)};return r.forEach((e=>{let t=!1;var r;(e=n.useGlobalTarget?window:e)instanceof HTMLElement&&(t=!0,r=e,tn.has(r.tagName)||-1!==r.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0)),e.addEventListener("pointerdown",o,i),t&&e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=rn((()=>{if(nn.has(n))return;sn(n,"down");const e=rn((()=>{sn(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>sn(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),s}const ln={layout:0,mainThread:0,waapi:0};const cn={current:void 0};class un{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Gt.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Gt.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new it);const n=this.events[e].add(t);return"change"===e?()=>{n(),Vt.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return cn.current&&cn.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Gt.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return at(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hn(e,t){return new un(e,t)}const dn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fn=new Set(dn),pn=new Set(["width","height","top","left","right","bottom",...dn]),mn=e=>Array.isArray(e),gn=e=>mn(e)?e[e.length-1]||0:e,vn=["transitionEnd","transition"];function yn(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hn(n))}const wn=e=>Boolean(e&&e.getVelocity);function bn(e,t){const n=e.getValue("willChange");if(r=n,Boolean(wn(r)&&r.add))return n.add(t);var r}const En=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Sn="data-"+En("framerAppearId");function Tn(e){return e.props[Sn]}const xn=!1,kn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Cn(e,t,n,r){if(e===t&&n===r)return $e;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=kn(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:kn(i(e),t,r)}const In=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_n=e=>t=>1-e(1-t),An=Cn(.33,1.53,.69,.99),Pn=_n(An),Nn=In(Pn),Dn=e=>(e*=2)<1?.5*Pn(e):.5*(2-Math.pow(2,-10*(e-1))),Rn=e=>1-Math.sin(Math.acos(e)),Mn=_n(Rn),On=In(Rn),Ln=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const Fn=(e,t,n)=>n>t?t:n<e?e:n,jn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Vn=ft(ft({},jn),{},{transform:e=>Fn(0,1,e)}),Un=ft(ft({},jn),{},{default:1}),Bn=e=>Math.round(1e5*e)/1e5,zn=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const qn=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Hn=(e,t)=>n=>Boolean("string"===typeof n&&qn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Wn=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,o,a]=r.match(zn);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Kn=ft(ft({},jn),{},{transform:e=>Math.round((e=>Fn(0,255,e))(e))}),Gn={test:Hn("rgb","red"),parse:Wn("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Kn.transform(t)+", "+Kn.transform(n)+", "+Kn.transform(r)+", "+Bn(Vn.transform(i))+")"}};const Qn={test:Hn("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Gn.transform},Yn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Xn=Yn("deg"),$n=Yn("%"),Jn=Yn("px"),Zn=Yn("vh"),er=Yn("vw"),tr=ft(ft({},$n),{},{parse:e=>$n.parse(e)/100,transform:e=>$n.transform(100*e)}),nr={test:Hn("hsl","hue"),parse:Wn("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+$n.transform(Bn(n))+", "+$n.transform(Bn(r))+", "+Bn(Vn.transform(i))+")"}},rr={test:e=>Gn.test(e)||Qn.test(e)||nr.test(e),parse:e=>Gn.test(e)?Gn.parse(e):nr.test(e)?nr.parse(e):Qn.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Gn.transform(e):nr.transform(e)},ir=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const sr="number",or="color",ar=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function lr(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(ar,(e=>(rr.test(e)?(r.color.push(s),i.push(or),n.push(rr.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(sr),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:i}}function cr(e){return lr(e).values}function ur(e){const{split:t,types:n}=lr(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===sr?Bn(e[s]):t===or?rr.transform(e[s]):e[s]}return i}}const hr=e=>"number"===typeof e?0:e;const dr={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(zn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(ir))||void 0===n?void 0:n.length)||0)>0},parse:cr,createTransformer:ur,getAnimatableNone:function(e){const t=cr(e);return ur(e)(t.map(hr))}},fr=new Set(["brightness","contrast","saturate","opacity"]);function pr(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(zn)||[];if(!r)return e;const i=n.replace(r,"");let s=fr.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const mr=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,gr=ft(ft({},dr),{},{getAnimatableNone:e=>{const t=e.match(mr);return t?t.map(pr).join(" "):e}}),vr={borderWidth:Jn,borderTopWidth:Jn,borderRightWidth:Jn,borderBottomWidth:Jn,borderLeftWidth:Jn,borderRadius:Jn,radius:Jn,borderTopLeftRadius:Jn,borderTopRightRadius:Jn,borderBottomRightRadius:Jn,borderBottomLeftRadius:Jn,width:Jn,maxWidth:Jn,height:Jn,maxHeight:Jn,top:Jn,right:Jn,bottom:Jn,left:Jn,padding:Jn,paddingTop:Jn,paddingRight:Jn,paddingBottom:Jn,paddingLeft:Jn,margin:Jn,marginTop:Jn,marginRight:Jn,marginBottom:Jn,marginLeft:Jn,backgroundPositionX:Jn,backgroundPositionY:Jn},yr={rotate:Xn,rotateX:Xn,rotateY:Xn,rotateZ:Xn,scale:Un,scaleX:Un,scaleY:Un,scaleZ:Un,skew:Xn,skewX:Xn,skewY:Xn,distance:Jn,translateX:Jn,translateY:Jn,translateZ:Jn,x:Jn,y:Jn,z:Jn,perspective:Jn,transformPerspective:Jn,opacity:Vn,originX:tr,originY:tr,originZ:Jn},wr=ft(ft({},jn),{},{transform:Math.round}),br=ft(ft(ft({},vr),yr),{},{zIndex:wr,size:Jn,fillOpacity:Vn,strokeOpacity:Vn,numOctaves:wr}),Er=ft(ft({},br),{},{color:rr,backgroundColor:rr,outlineColor:rr,fill:rr,stroke:rr,borderColor:rr,borderTopColor:rr,borderRightColor:rr,borderBottomColor:rr,borderLeftColor:rr,filter:gr,WebkitFilter:gr}),Sr=e=>Er[e];function Tr(e,t){let n=Sr(e);return n!==gr&&(n=dr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xr=new Set(["auto","none","0"]);const kr=e=>180*e/Math.PI,Cr=e=>{const t=kr(Math.atan2(e[1],e[0]));return _r(t)},Ir={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Cr,rotateZ:Cr,skewX:e=>kr(Math.atan(e[1])),skewY:e=>kr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_r=e=>((e%=360)<0&&(e+=360),e),Ar=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Pr=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Nr={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ar,scaleY:Pr,scale:e=>(Ar(e)+Pr(e))/2,rotateX:e=>_r(kr(Math.atan2(e[6],e[5]))),rotateY:e=>_r(kr(Math.atan2(-e[2],e[0]))),rotateZ:Cr,rotate:Cr,skewX:e=>kr(Math.atan(e[4])),skewY:e=>kr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Dr(e){return e.includes("scale")?1:0}function Rr(e,t){if(!e||"none"===e)return Dr(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=Nr,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Ir,i=t}if(!i)return Dr(t);const s=r[t],o=i[1].split(",").map(Mr);return"function"===typeof s?s(o):o[s]}function Mr(e){return parseFloat(e.trim())}const Or=e=>e===jn||e===Jn,Lr=new Set(["x","y","z"]),Fr=dn.filter((e=>!Lr.has(e)));const jr={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Rr(n,"x")},y:(e,t)=>{let{transform:n}=t;return Rr(n,"y")}};jr.translateX=jr.x,jr.translateY=jr.y;const Vr=new Set;let Ur=!1,Br=!1;function zr(){if(Br){const e=Array.from(Vr).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Fr.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Br=!1,Ur=!1,Vr.forEach((e=>e.complete())),Vr.clear()}function qr(){Vr.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Br=!0)}))}class Hr{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vr.add(this),Ur||(Ur=!0,Vt.read(qr),Vt.resolveKeyframes(zr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Wr=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Kr=e=>t=>"string"===typeof t&&t.startsWith(e),Gr=Kr("--"),Qr=Kr("var(--"),Yr=e=>!!Qr(e)&&Xr.test(e.split("/*")[0].trim()),Xr=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,$r=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Jr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Ze(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=$r.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Wr(e)?parseFloat(e):e}return Yr(i)?Jr(i,t,n+1):i}const Zr=e=>t=>t.test(e),ei=[jn,Jn,$n,Xn,er,Zn,{test:e=>"auto"===e,parse:e=>e}],ti=e=>ei.find(Zr(e));class ni extends Hr{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Yr(n))){const r=Jr(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!pn.has(n)||2!==e.length)return;const[r,i]=e,s=ti(r),o=ti(i);if(s!==o)if(Or(s)&&Or(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||Ln(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!xr.has(t)&&lr(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=Tr(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=jr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const ri=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!dr.test(e)&&"0"!==e||e.startsWith("url(")));function ii(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=ri(i,t),a=ri(s,t);return Je(o===a,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(s," via the `style` property.")),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||kt(n))&&r)}const si=e=>null!==e;function oi(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(si),o=r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const ai=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class li{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop"}=e,a=mt(e,ai);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gt.now(),this.options=ft({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o},a),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(qr(),zr()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Gt.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!ii(e,n,r,i)){if(xn||!s)return a&&a(oi(e,this.options,t)),o&&o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=ft({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const ci=(e,t,n)=>e+(t-e)*n;function ui(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hi(e,t){return n=>n>0?t:e}const di=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},fi=[Qn,Gn,nr];function pi(e){const t=(e=>fi.find((t=>t.test(e))))(e);if(Je(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let n=t.parse(e);return t===nr&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=ui(i,e,t+1/3),o=ui(i,e,t),a=ui(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const mi=(e,t)=>{const n=pi(e),r=pi(t);if(!n||!r)return hi(e,t);const i=ft({},n);return e=>(i.red=di(n.red,r.red,e),i.green=di(n.green,r.green,e),i.blue=di(n.blue,r.blue,e),i.alpha=ci(n.alpha,r.alpha,e),Gn.transform(i))},gi=(e,t)=>n=>t(e(n)),vi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(gi)},yi=new Set(["none","hidden"]);function wi(e,t){return n=>ci(e,t,n)}function bi(e){return"number"===typeof e?wi:"string"===typeof e?Yr(e)?hi:rr.test(e)?mi:Ti:Array.isArray(e)?Ei:"object"===typeof e?rr.test(e)?mi:Si:hi}function Ei(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>bi(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Si(e,t){const n=ft(ft({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=bi(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Ti=(e,t)=>{const n=dr.createTransformer(t),r=lr(e),i=lr(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?yi.has(e)&&!i.values.length||yi.has(t)&&!r.values.length?function(e,t){return yi.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):vi(Ei(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[s]=l,i[o]++}return r}(r,i),i.values),n):(Je(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),hi(e,t))};function xi(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return ci(e,t,n);return bi(e)(e,t)}function ki(e,t,n){const r=Math.max(t-5,0);return at(n-e(r),t-r)}const Ci={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ii=.001;function _i(e){let t,n,{duration:r=Ci.duration,bounce:i=Ci.bounce,velocity:s=Ci.velocity,mass:o=Ci.mass}=e;Je(r<=st(Ci.maxDuration),"Spring duration must be 10 seconds or less");let a=1-i;a=Fn(Ci.minDamping,Ci.maxDamping,a),r=Fn(Ci.minDuration,Ci.maxDuration,ot(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=Pi(e,a),l=Math.exp(-n);return Ii-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Pi(Math.pow(e,2),a);return(-t(e)+Ii>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Ai;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=st(r),isNaN(l))return{stiffness:Ci.stiffness,damping:Ci.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const Ai=12;function Pi(e,t){return e*Math.sqrt(1-t*t)}const Ni=["duration","bounce"],Di=["stiffness","damping","mass"];function Ri(e,t){return t.some((t=>void 0!==e[t]))}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ci.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t=ft({velocity:Ci.velocity,stiffness:Ci.stiffness,damping:Ci.damping,mass:Ci.mass,isResolvedFromDuration:!1},e);if(!Ri(e,Di)&&Ri(e,Ni))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*Fn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=ft(ft({},t),{},{mass:Ci.mass,stiffness:i,damping:s})}else{const n=_i(e);t=ft(ft(ft({},t),n),{},{mass:Ci.mass}),t.isResolvedFromDuration=!0}return t}(ft(ft({},n),{},{velocity:-ot(n.velocity||0)})),p=d||0,m=c/(2*Math.sqrt(l*u)),g=o-s,v=ot(Math.sqrt(l/u)),y=Math.abs(g)<5;let w;if(r||(r=y?Ci.restSpeed.granular:Ci.restSpeed.default),i||(i=y?Ci.restDelta.granular:Ci.restDelta.default),m<1){const e=Pi(v,m);w=t=>{const n=Math.exp(-m*v*t);return o-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>o-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return o-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:f&&h||null,next:e=>{const t=w(e);if(f)a.done=e>=h;else{let n=0;m<1&&(n=0===e?st(p):ki(w,e,t));const s=Math.abs(n)<=r,l=Math.abs(o-t)<=i;a.done=s&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(xt(b),Tt),t=Nt((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function Oi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),w=e=>v+y(e),b=e=>{const t=y(e),n=w(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let E,S;const T=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(E=e,S=Mi({keyframes:[f.value,p(f.value)],velocity:ki(w,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==E||(t=!0,b(e),T(e)),void 0!==E&&e>=E?S.next(e-E):(!t&&b(e),f)}}}const Li=Cn(.42,0,1,1),Fi=Cn(0,0,.58,1),ji=Cn(.42,0,.58,1),Vi={linear:$e,easeIn:Li,easeInOut:ji,easeOut:Fi,circIn:Rn,circInOut:On,circOut:Mn,backIn:Pn,backInOut:Nn,backOut:An,anticipate:Dn},Ui=e=>{if(It(e)){Ze(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Cn(t,n,r,i)}return"string"===typeof e?(Ze(void 0!==Vi[e],"Invalid easing type '".concat(e,"'")),Vi[e]):e};function Bi(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(Ze(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||xi,s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||$e:t;n=vi(e,n)}r.push(n)}return r}(t,r,i),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=rt(e[r],e[r+1],n);return a[r](i)};return n?t=>c(Fn(e[0],e[s-1],t)):c}function zi(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=rt(0,t,r);e.push(ci(n,1,i))}}(t,e.length-1),t}function qi(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Ui):Ui(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:zi(n),t),l=Bi(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||ji)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const Hi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Vt.update(t,!0),stop:()=>Ut(t),now:()=>Bt.isProcessing?Bt.timestamp:Gt.now()}},Wi={decay:Oi,inertia:Oi,tween:qi,keyframes:qi,spring:Mi},Ki=e=>e/100;class Gi extends li{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||Hr;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,o=kt(t)?t:Wi[t]||qi;let a,l;o!==qi&&"number"!==typeof e[0]&&(a=vi(Ki,xi(e[0],e[1])),e=[0,100]);const c=o(ft(ft({},this.options),{},{keyframes:e}));"mirror"===i&&(l=o(ft(ft({},this.options),{},{keyframes:[...e].reverse(),velocity:-s}))),null===c.calculatedDuration&&(c.calculatedDuration=xt(c));const{calculatedDuration:u}=c,h=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;ln.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,w=i;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(w=s)),y=Fn(0,1,n)*u}const b=v?{done:!1,value:a[0]}:w.next(y);o&&(b.value=o(b.value));let{done:E}=b;v||null===l||(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&E);return S&&void 0!==r&&(b.value=oi(a,this.options,r)),m&&m(b.value),S&&this.finish(),b}get duration(){const{resolved:e}=this;return e?ot(e.calculatedDuration):0}get time(){return ot(this.currentTime)}set time(e){e=st(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ot(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Hi,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),ln.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Qi=new Set(["opacity","clipPath","filter","transform"]);const Yi=nt((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Xi=["onComplete","onUpdate","motionValue","element"],$i=["motionValue","onUpdate","onComplete","element"];const Ji={anticipate:Dn,backInOut:Nn,circInOut:On};class Zi extends li{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new ni(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:s,motionValue:o,name:a,startTime:l}=this.options;if(!o.owner||!o.owner.current)return!1;var c;if("string"===typeof i&&Pt()&&i in Ji&&(i=Ji[i]),kt((c=this.options).type)||"spring"===c.type||!Dt(c.ease)){const t=this.options,{onComplete:o,onUpdate:a,motionValue:l,element:c}=t,u=mt(t,Xi),h=function(e,t){const n=new Gi(ft(ft({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,u);1===(e=h.keyframes).length&&(e[1]=e[0]),n=h.duration,r=h.times,i=h.ease,s="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Ot(a,i);Array.isArray(u)&&(c.easing=u),Ft.value&&ln.waapi++;const h=e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"});return Ft.value&&h.finished.finally((()=>{ln.waapi--})),h}(o.owner.current,a,e,ft(ft({},this.options),{},{duration:n,times:r,ease:i}));return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(Ct(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;o.set(oi(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ot(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ot(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=st(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return $e;const{animation:n}=t;Ct(n,e)}else this.pendingTimeline=e;return $e}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:s,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:a,onComplete:l,element:c}=e,u=mt(e,$i),h=new Gi(ft(ft({},u),{},{keyframes:n,duration:r,type:i,ease:s,times:o,isGenerator:!0})),d=st(this.time);t.setWithVelocity(h.sample(d-10).value,h.sample(d).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return Yi()&&n&&Qi.has(n)&&!a&&!l&&!r&&"mirror"!==i&&0!==s&&"inertia"!==o}}const es={type:"spring",stiffness:500,damping:25,restSpeed:10},ts={type:"keyframes",duration:.8},ns={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rs=(e,t)=>{let{keyframes:n}=t;return n.length>2?ts:fn.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:es:ns},is=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const ss=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return o=>{const a=St(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=st(l);let u=ft(ft({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{},{delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u}=e,h=mt(e,is);return!!Object.keys(h).length})(a)||(u=ft(ft({},u),rs(e,u))),u.duration&&(u.duration=st(u.duration)),u.repeatDelay&&(u.repeatDelay=st(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),(xn||et)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!s&&void 0!==t.get()){const e=oi(u.keyframes,a);if(void 0!==e)return Vt.update((()=>{u.onUpdate(e),u.onComplete()})),new Et([])}return!s&&Zi.supports(u)?new Zi(u):new Gi(u)}},os=["transition","transitionEnd"];function as(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function ls(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a}=t,l=mt(t,os);r&&(o=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h,null!==(s=e.latestValues[h])&&void 0!==s?s:null),r=l[h];if(void 0===r||u&&as(u,h))continue;const i=ft({delay:n},St(o||{},h));let a=!1;if(window.MotionHandoffAnimation){const t=Tn(e);if(t){const e=window.MotionHandoffAnimation(t,h,Vt);null!==e&&(i.startTime=e,a=!0)}}bn(e,h),t.start(ss(h,t,r,e.shouldReduceMotion&&pn.has(h)?{type:!1}:i,e,a));const d=t.animation;d&&c.push(d)}return a&&Promise.all(c).then((()=>{Vt.update((()=>{a&&function(e,t){let n=yt(e,t)||{},{transitionEnd:r={},transition:i={}}=n,s=mt(n,vn);s=ft(ft({},s),r);for(const o in s)yn(e,o,gn(s[o]))}(e,a)}))})),c}function cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=yt(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(ls(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(us).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(cs(e,t,ft(ft({},s),{},{delay:n+l(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,i+r,o,a,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function us(e,t){return e.sortNodePosition(t)}function hs(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ds(e){return"string"===typeof e||Array.isArray(e)}const fs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ps=["initial",...fs],ms=ps.length;function gs(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&gs(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<ms;n++){const r=ps[n],i=e.props[r];(ds(i)||!1===i)&&(t[r]=i)}return t}const vs=["transition","transitionEnd"],ys=[...fs].reverse(),ws=fs.length;function bs(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>cs(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=cs(e,t,r);else{const i="function"===typeof t?yt(e,t,r.custom):t;n=Promise.all(ls(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Es(e){let t=bs(e),n=xs(),r=!0;const i=t=>(n,r)=>{var i;const s=yt(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=mt(s,vs);n=ft(ft(ft({},n),r),t)}return n};function s(s){const{props:o}=e,a=gs(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<ws;t++){const d=ys[t],f=n[d],p=void 0!==o[d]?o[d]:a[d],m=ds(p),g=d===s?f.isActive:null;!1===g&&(h=t);let v=p===a[d]&&p!==o[d]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys=ft({},u),!f.isActive&&null===g||!p&&!f.prevProp||pt(p)||"boolean"===typeof p)continue;const y=Ss(f.prevProp,p);let w=y||d===s&&f.isActive&&!v&&m||t>h&&m,b=!1;const E=Array.isArray(p)?p:[p];let S=E.reduce(i(d),{});!1===g&&(S={});const{prevResolvedValues:T={}}=f,x=ft(ft({},T),S),k=t=>{w=!0,c.has(t)&&(b=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in x){const t=S[e],n=T[e];if(u.hasOwnProperty(e))continue;let r=!1;r=mn(t)&&mn(n)?!hs(t,n):t!==n,r?void 0!==t&&null!==t?k(e):c.add(e):void 0!==t&&c.has(e)?k(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(u=ft(ft({},u),S)),r&&e.blockInitialAnimation&&(w=!1);w&&(!(v&&y)||b)&&l.push(...E.map((e=>({animation:e,options:{type:d}}))))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=yt(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=s(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=xs(),r=!0}}}function Ss(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!hs(t,e)}function Ts(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xs(){return{animate:Ts(!0),whileInView:Ts(),whileHover:Ts(),whileTap:Ts(),whileDrag:Ts(),whileFocus:Ts(),exit:Ts()}}class ks{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Cs=0;const Is={animation:{Feature:class extends ks{constructor(e){super(e),e.animationState||(e.animationState=Es(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends ks{constructor(){super(...arguments),this.id=Cs++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function _s(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function As(e){return{point:{x:e.pageX,y:e.pageY}}}function Ps(e,t,n,r){return _s(e,t,(e=>t=>en(t)&&e(t,As(t)))(n),r)}function Ns(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Ds(e){return e.max-e.min}function Rs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=ci(t.min,t.max,e.origin),e.scale=Ds(n)/Ds(t),e.translate=ci(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Ms(e,t,n,r){Rs(e.x,t.x,n.x,r?r.originX:void 0),Rs(e.y,t.y,n.y,r?r.originY:void 0)}function Os(e,t,n){e.min=n.min+t.min,e.max=e.min+Ds(t)}function Ls(e,t,n){e.min=t.min-n.min,e.max=e.min+Ds(t)}function Fs(e,t,n){Ls(e.x,t.x,n.x),Ls(e.y,t.y,n.y)}const js=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Vs(e){return[e("x"),e("y")]}function Us(e){return void 0===e||1===e}function Bs(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Us(t)||!Us(n)||!Us(r)}function zs(e){return Bs(e)||qs(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qs(e){return Hs(e.x)||Hs(e.y)}function Hs(e){return e&&"0%"!==e}function Ws(e,t,n){return n+t*(e-n)}function Ks(e,t,n,r,i){return void 0!==i&&(e=Ws(e,i,r)),Ws(e,n,r)+t}function Gs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Ks(e.min,t,n,r,i),e.max=Ks(e.max,t,n,r,i)}function Qs(e,t){let{x:n,y:r}=t;Gs(e.x,n.translate,n.scale,n.originPoint),Gs(e.y,r.translate,r.scale,r.originPoint)}const Ys=.999999999999,Xs=1.0000000000001;function $s(e,t){e.min=e.min+t,e.max=e.max+t}function Js(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Gs(e,t,n,ci(e.min,e.max,i),r)}function Zs(e,t){Js(e.x,t.x,t.scaleX,t.scale,t.originX),Js(e.y,t.y,t.scaleY,t.scale,t.originY)}function eo(e,t){return Ns(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const to=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function no(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const ro=(e,t)=>Math.abs(e-t);class io{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=ao(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ro(e.x,t.x),r=ro(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Bt;this.history.push(ft(ft({},r),{},{timestamp:i}));const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=so(t,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=ao("pointercancel"===e.type?this.lastMoveEventInfo:so(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!en(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=so(As(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=Bt;this.history=[ft(ft({},o),{},{timestamp:a})];const{onSessionStart:l}=t;l&&l(e,ao(s,this.history)),this.removeListeners=vi(Ps(this.contextWindow,"pointermove",this.handlePointerMove),Ps(this.contextWindow,"pointerup",this.handlePointerUp),Ps(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ut(this.updatePoint)}}function so(e,t){return t?{point:t(e.point)}:e}function oo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ao(e,t){let{point:n}=e;return{point:n,delta:oo(n,co(t)),offset:oo(n,lo(t)),velocity:uo(t,.1)}}function lo(e){return e[0]}function co(e){return e[e.length-1]}function uo(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=co(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>st(t)));)n--;if(!r)return{x:0,y:0};const s=ot(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ho(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function fo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const po=.35;function mo(e,t,n){return{min:go(e,t),max:go(e,n)}}function go(e,t){return"number"===typeof e?e:e[t]||0}const vo=new WeakMap;class yo{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new io(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(As(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?Qt[s]?null:(Qt[s]=!0,()=>{Qt[s]=!1}):Qt.x||Qt.y?null:(Qt.x=Qt.y=!0,()=>{Qt.x=Qt.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs((e=>{let t=this.getAxisMotionValue(e).get()||0;if($n.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ds(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Vt.postRender((()=>i(e,t))),bn(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Vs((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:to(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Vt.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!wo(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?ci(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?ci(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&no(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:ho(e.x,r,s),y:ho(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po;return!1===e?e=0:!0===e&&(e=po),{x:mo(e,"left","right"),y:mo(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vs((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!no(e))return!1;const n=e.current;Ze(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=eo(e,n),{scroll:i}=t;return i&&($s(r.x,i.offset.x),$s(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:fo(e.x,t.x),y:fo(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Ns(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Vs((o=>{if(!wo(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h=ft(ft({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return bn(this.visualElement,e),n.start(ss(e,n,0,t,this.visualElement,!1))}stopAnimation(){Vs((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Vs((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Vs((t=>{const{drag:n}=this.getProps();if(!wo(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-ci(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!no(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vs((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ds(e),i=Ds(t);return i>r?n=rt(t.min,t.max-r,e.min):r>i&&(n=rt(e.min,e.max-i,t.min)),Fn(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Vs((t=>{if(!wo(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(ci(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;vo.set(this.visualElement,this);const e=Ps(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();no(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Vt.read(t);const i=_s(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Vs((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=po,dragMomentum:o=!0}=e;return ft(ft({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o})}}function wo(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const bo=e=>(t,n)=>{e&&Vt.postRender((()=>e(t,n)))};const Eo=(0,i.createContext)({}),So={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function To(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xo={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Jn.test(e))return e;e=parseFloat(e)}const n=To(e,t.target.x),r=To(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},ko={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=dr.parse(e);if(s.length>5)return i;const o=dr.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=ci(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}},Co={};class Io extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)Co[t]=e[t],Gr(t)&&(Co[t].isCSSVariable=!0)}(Ao),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions(ft(ft({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),So.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Vt.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qt.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _o(e){const[t,n]=We(),r=(0,i.useContext)(Oe);return(0,Me.jsx)(Io,ft(ft({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Eo),isPresent:t,safeToRemove:n}))}const Ao={borderRadius:ft(ft({},xo),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:ko};const Po=(e,t)=>e.depth-t.depth;class No{constructor(){this.children=[],this.isDirty=!1}add(e){Ye(this.children,e),this.isDirty=!0}remove(e){Xe(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Po),this.isDirty=!1,this.children.forEach(e)}}function Do(e,t){const n=Gt.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(Ut(r),e(o-t))};return Vt.read(r,!0),()=>Ut(r)}function Ro(e){const t=wn(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Mo=["TopLeft","TopRight","BottomLeft","BottomRight"],Oo=Mo.length,Lo=e=>"string"===typeof e?parseFloat(e):e,Fo=e=>"number"===typeof e||Jn.test(e);function jo(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Vo=Bo(0,.5,Mn),Uo=Bo(.5,.95,$e);function Bo(e,t,n){return r=>r<e?0:r>t?1:n(rt(e,t,r))}function zo(e,t){e.min=t.min,e.max=t.max}function qo(e,t){zo(e.x,t.x),zo(e.y,t.y)}function Ho(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Wo(e,t,n,r,i){return e=Ws(e-=t,1/n,r),void 0!==i&&(e=Ws(e,1/i,r)),e}function Ko(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;$n.test(t)&&(t=parseFloat(t),t=ci(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=ci(s.min,s.max,r);e===s&&(a-=t),e.min=Wo(e.min,t,n,a,i),e.max=Wo(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const Go=["x","scaleX","originX"],Qo=["y","scaleY","originY"];function Yo(e,t,n,r){Ko(e.x,t,Go,n?n.x:void 0,r?r.x:void 0),Ko(e.y,t,Qo,n?n.y:void 0,r?r.y:void 0)}function Xo(e){return 0===e.translate&&1===e.scale}function $o(e){return Xo(e.x)&&Xo(e.y)}function Jo(e,t){return e.min===t.min&&e.max===t.max}function Zo(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ea(e,t){return Zo(e.x,t.x)&&Zo(e.y,t.y)}function ta(e){return Ds(e.x)/Ds(e.y)}function na(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ra{constructor(){this.members=[]}add(e){Ye(this.members,e),e.scheduleRender()}remove(e){if(Xe(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ia={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},sa=["","X","Y","Z"],oa={visibility:"hidden"};let aa=0;function la(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ca(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Tn(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ca(r)}function ua(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=aa++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ft.value&&(ia.nodes=ia.calculatedTargetDeltas=ia.calculatedProjections=0),this.nodes.forEach(fa),this.nodes.forEach(ba),this.nodes.forEach(Ea),this.nodes.forEach(pa),Ft.addProjectionMetrics&&Ft.addProjectionMetrics(ia)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new No)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new it),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Do(r,250),So.hasAnimatedSinceResize&&(So.hasAnimatedSinceResize=!1,this.nodes.forEach(wa))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||Ia,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!ea(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=ft(ft({},St(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||wa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ut(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sa),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ca(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ga);this.isUpdating||this.nodes.forEach(va),this.isUpdating=!1,this.nodes.forEach(ya),this.nodes.forEach(ha),this.nodes.forEach(da),this.clearAllSnapshots();const e=Gt.now();Bt.delta=Fn(0,1e3/60,e-Bt.timestamp),Bt.timestamp=e,Bt.isProcessing=!0,zt.update.process(Bt),zt.preRender.process(Bt),zt.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qt.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ma),this.sharedNodes.forEach(Ta)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Ds(this.snapshot.measuredBox.x)||Ds(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!$o(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||zs(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Pa((r=n).x),Pa(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Da))){const{scroll:e}=this.root;e&&($s(n.x,e.offset.x),$s(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(qo(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&qo(n,e),$s(n.x,i.offset.x),$s(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};qo(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Zs(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),zs(e.latestValues)&&Zs(n,e.latestValues)}return zs(this.latestValues)&&Zs(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};qo(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!zs(e.latestValues))continue;Bs(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};qo(r,e.measurePageBox()),Yo(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return zs(this.latestValues)&&Yo(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=ft(ft(ft({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fs(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),qo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,Os(o.x,a.x,l.x),Os(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):qo(this.target,this.layout.layoutBox),Qs(this.target,this.targetDelta)):qo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fs(this.relativeTargetOrigin,this.target,e.target),qo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ft.value&&ia.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Bs(this.parent.latestValues)&&!qs(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;qo(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zs(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Qs(e,o)),r&&zs(s.latestValues)&&Zs(e,s.latestValues))}t.x<Xs&&t.x>Ys&&(t.x=1),t.y<Xs&&t.y>Ys&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Ho(this.prevProjectionDelta.x,this.projectionDelta.x),Ho(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ms(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&na(this.projectionDelta.x,this.prevProjectionDelta.x)&&na(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ft.value&&ia.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=ft({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(Ca));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;xa(s.x,e.x,n),xa(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fs(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){ka(e.x,t.x,n.x,r),ka(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return Jo(e.x,t.x)&&Jo(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),qo(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=ci(0,void 0!==n.opacity?n.opacity:1,Vo(r)),e.opacityExit=ci(void 0!==t.opacity?t.opacity:1,0,Uo(r))):s&&(e.opacity=ci(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<Oo;o++){const i="border".concat(Mo[o],"Radius");let s=jo(t,i),a=jo(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Fo(s)===Fo(a)?(e[i]=Math.max(ci(Lo(s),Lo(a),r),0),($n.test(a)||$n.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=ci(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ut(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update((()=>{So.hasAnimatedSinceResize=!0,ln.layout++,this.currentAnimation=function(e,t,n){const r=wn(e)?e:hn(e);return r.start(ss("",r,t,n)),r.animation}(0,1e3,ft(ft({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{ln.layout--},onComplete:()=>{ln.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Na(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ds(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ds(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}qo(t,n),Zs(t,i),Ms(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ra);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&la("z",e,r,this.animationValues);for(let i=0;i<sa.length;i++)la("rotate".concat(sa[i]),e,r,this.animationValues),la("skew".concat(sa[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oa;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ro(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ro(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!zs(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in Co){if(void 0===o[c])continue;const{correct:e,applyTo:t,isCSSVariable:n}=Co[c],i="none"===r.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let n=0;n<e;n++)r[t[n]]=i}else n?this.options.visualElement.renderState.vars[c]=i:r[c]=i}return this.options.layoutId&&(r.pointerEvents=s===this?Ro(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ga),this.root.sharedNodes.clear()}}}function ha(e){e.updateLayout()}function da(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Vs((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Ds(r);r.min=t[e].min,r.max=r.min+i})):Na(i,n.layoutBox,t)&&Vs((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=Ds(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ms(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Ms(a,e.applyTransform(r,!0),n.measuredBox):Ms(a,t,n.layoutBox);const l=!$o(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Fs(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Fs(a,t,s.layoutBox),ea(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function fa(e){Ft.value&&ia.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pa(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ma(e){e.clearSnapshot()}function ga(e){e.clearMeasurements()}function va(e){e.isLayoutDirty=!1}function ya(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wa(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ba(e){e.resolveTargetDelta()}function Ea(e){e.calcProjection()}function Sa(e){e.resetSkewAndRotation()}function Ta(e){e.removeLeadSnapshot()}function xa(e,t,n){e.translate=ci(t.translate,0,n),e.scale=ci(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ka(e,t,n,r){e.min=ci(t.min,n.min,r),e.max=ci(t.max,n.max,r)}function Ca(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ia={duration:.45,ease:[.4,0,.1,1]},_a=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Aa=_a("applewebkit/")&&!_a("chrome/")?Math.round:$e;function Pa(e){e.min=Aa(e.min),e.max=Aa(e.max)}function Na(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=ta(t),i=ta(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function Da(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Ra=ua({attachResizeListener:(e,t)=>_s(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ma={current:void 0},Oa=ua({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ma.current){const e=new Ra({});e.mount(window),e.setOptions({layoutScroll:!0}),Ma.current=e}return Ma.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),La={pan:{Feature:class extends ks{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(e){this.session=new io(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:to(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:bo(e),onStart:bo(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Vt.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Ps(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ks{constructor(e){super(e),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new yo(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Oa,MeasureLayout:_o}};function Fa(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Vt.postRender((()=>i(t,As(t))))}function ja(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Vt.postRender((()=>i(t,As(t))))}const Va=["root"],Ua=new WeakMap,Ba=new WeakMap,za=e=>{const t=Ua.get(e.target);t&&t(e)},qa=e=>{e.forEach(za)};function Ha(e,t,n){const r=function(e){let{root:t}=e,n=mt(e,Va);const r=t||document;Ba.has(r)||Ba.set(r,{});const i=Ba.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(qa,ft({root:t},n))),i[s]}(t);return Ua.set(e,n),r.observe(e),()=>{Ua.delete(e),r.unobserve(e)}}const Wa={some:0,all:1};const Ka={inView:{Feature:class extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Wa[r]};return Ha(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ks{mount(){const{current:e}=this.node;e&&(this.unmount=an(e,((e,t)=>(ja(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return ja(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(wA){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vi(_s(this.node.current,"focus",(()=>this.onFocus())),_s(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends ks{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Xt(e,n),o=e=>{if(!$t(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{$t(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach((e=>{e.addEventListener("pointerenter",o,i)})),s}(e,((e,t)=>(Fa(this.node,t,"Start"),e=>Fa(this.node,e,"End")))))}unmount(){}}}},Ga={layout:{ProjectionNode:Oa,MeasureLayout:_o}},Qa=(0,i.createContext)({strict:!1}),Ya=(0,i.createContext)({});function Xa(e){return pt(e.animate)||ps.some((t=>ds(e[t])))}function $a(e){return Boolean(Xa(e)||e.variants)}function Ja(e){const{initial:t,animate:n}=function(e,t){if(Xa(e)){const{initial:t,animate:n}=e;return{initial:!1===t||ds(t)?t:void 0,animate:ds(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Ya));return(0,i.useMemo)((()=>({initial:t,animate:n})),[Za(t),Za(n)])}function Za(e){return Array.isArray(e)?e.join(" "):e}const el={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const EA in el)tl[EA]={isEnabled:e=>el[EA].some((t=>!!e[t]))};const nl=Symbol.for("motionComponentSymbol");function rl(e,t,n){return(0,i.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):no(n)&&(n.current=r))}),[t])}function il(e,t,n,r,s){var o,a;const{visualElement:l}=(0,i.useContext)(Ya),c=(0,i.useContext)(Qa),u=(0,i.useContext)(Ve),h=(0,i.useContext)(Ue).reducedMotion,d=(0,i.useRef)(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));const f=d.current,p=(0,i.useContext)(Eo);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sl(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&no(a),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,n,s,p);const m=(0,i.useRef)(!1);(0,i.useInsertionEffect)((()=>{f&&m.current&&f.update(n,u)}));const g=n[Sn],v=(0,i.useRef)(Boolean(g)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return je((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),qt.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,i.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),v.current=!1))})),f}function sl(e){if(e)return!1!==e.options.allowProjection?e.projection:sl(e.parent)}function ol(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=e;var a,l;function c(e,t){let a;const l=ft(ft(ft({},(0,i.useContext)(Ue)),e),{},{layoutId:al(e)}),{isStatic:c}=l,u=Ja(e),h=s(e,c);if(!c&&Fe){!function(){(0,i.useContext)(Qa).strict;0}();const e=function(e){const{drag:t,layout:n}=tl;if(!t&&!n)return{};const r=ft(ft({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,u.visualElement=il(o,h,l,n,e.ProjectionNode)}return(0,Me.jsxs)(Ya.Provider,{value:u,children:[a&&u.visualElement?(0,Me.jsx)(a,ft({visualElement:u.visualElement},l)):null,r(o,e,rl(h,u.visualElement,t),h,c,u.visualElement)]})}t&&function(e){for(const t in e)tl[t]=ft(ft({},tl[t]),e[t])}(t),c.displayName="motion.".concat("string"===typeof o?o:"create(".concat(null!==(l=null!==(a=o.displayName)&&void 0!==a?a:o.name)&&void 0!==l?l:"",")"));const u=(0,i.forwardRef)(c);return u[nl]=o,u}function al(e){let{layoutId:t}=e;const n=(0,i.useContext)(Oe).id;return n&&void 0!==t?n+"-"+t:t}function ll(e,t){let{layout:n,layoutId:r}=t;return fn.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Co[e]||"opacity"===e)}const cl=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ul={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hl=dn.length;function dl(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(fn.has(l))o=!0;else if(Gr(l))i[l]=e;else{const t=cl(e,br[l]);l.startsWith("origin")?(a=!0,s[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<hl;s++){const o=dn[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=cl(a,br[o]);l||(i=!1,r+="".concat(ul[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const fl=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pl(e,t,n){for(const r in t)wn(t[r])||ll(r,n)||(e[r]=t[r])}function ml(e,t){const n={};return pl(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return dl(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function gl(e,t){const n={},r=ml(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const vl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vl.has(e)}let wl=e=>!yl(e);try{(bl=require("@emotion/is-prop-valid").default)&&(wl=e=>e.startsWith("on")?!yl(e):bl(e))}catch(bA){}var bl;const El=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sl(e){return"string"===typeof e&&!e.includes("-")&&!!(El.indexOf(e)>-1||/[A-Z]/.test(e))}const Tl={offset:"stroke-dashoffset",array:"stroke-dasharray"},xl={offset:"strokeDashoffset",array:"strokeDasharray"};function kl(e,t,n){return"string"===typeof e?e:Jn.transform(t+n*e)}const Cl=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Il(e,t,n,r){let{attrX:i,attrY:s,attrScale:o,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0}=t;if(dl(e,mt(t,Cl),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:f,dimensions:p}=e;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(void 0!==a||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){const r=kl(t,e.x,e.width),i=kl(n,e.y,e.height);return"".concat(r," ").concat(i)}(p,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==i&&(d.x=i),void 0!==s&&(d.y=s),void 0!==o&&(d.scale=o),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Tl:xl;e[s.offset]=Jn.transform(-r);const o=Jn.transform(t),a=Jn.transform(n);e[s.array]="".concat(o," ").concat(a)}(d,c,u,h,!1)}const _l=()=>ft(ft({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Al=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Pl(e,t,n,r){const s=(0,i.useMemo)((()=>{const n=_l();return Il(n,t,Al(r),e.transformTemplate),ft(ft({},n.attrs),{},{style:ft({},n.style)})}),[t]);if(e.style){const t={};pl(t,e.style,e),s.style=ft(ft({},t),s.style)}return s}function Nl(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,o)=>{let{latestValues:a}=s;const l=(Sl(t)?Pl:gl)(n,a,o,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(wl(i)||!0===n&&yl(i)||!t&&!yl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==i.Fragment?ft(ft(ft({},c),l),{},{ref:r}):{},{children:h}=n,d=(0,i.useMemo)((()=>wn(h)?h.get():h),[h]);return(0,i.createElement)(t,ft(ft({},u),{},{children:d}))}}const Dl=["transitionEnd","transition"];const Rl=e=>(t,n)=>{const r=(0,i.useContext)(Ya),s=(0,i.useContext)(Ve),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onUpdate:o}=e;const a={latestValues:Ml(t,n,r,i),renderState:s()};return o&&(a.onMount=e=>o(ft({props:t,current:e},a)),a.onUpdate=e=>o(e)),a}(e,t,r,s);return n?o():Le(o)};function Ml(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Ro(s[d]);let{initial:o,animate:a}=e;const l=Xa(e),c=$a(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const h=u?a:o;if(h&&"boolean"!==typeof h&&!pt(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=vt(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=mt(r,Dl);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}function Ol(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(wn(i[o])||t.style&&wn(t.style[o])||ll(o,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(s[o]=i[o]);return s}const Ll={useVisualState:Rl({scrapeMotionValuesFromProps:Ol,createRenderState:fl})};function Fl(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(wA){t.dimensions={x:0,y:0,width:0,height:0}}}function jl(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Vl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ul(e,t,n,r){jl(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Vl.has(i)?i:En(i),t.attrs[i])}function Bl(e,t,n){const r=Ol(e,t,n);for(const i in e)if(wn(e[i])||wn(t[i])){r[-1!==dn.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const zl=["x","y","width","height","cx","cy","r"],ql={useVisualState:Rl({scrapeMotionValuesFromProps:Bl,createRenderState:_l,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:s}=e;if(!r)return;let o=!!t.drag;if(!o)for(const l in s)if(fn.has(l)){o=!0;break}if(!o)return;let a=!n;if(n)for(let l=0;l<zl.length;l++){const e=zl[l];t[e]!==n[e]&&(a=!0)}a&&Vt.read((()=>{Fl(r,i),Vt.render((()=>{Il(i,s,Al(r.tagName),t.transformTemplate),Ul(r,i)}))}))}})};function Hl(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return ol(ft(ft({},Sl(n)?ql:Ll),{},{preloadedFeatures:e,useRender:Nl(r),createVisualElement:t,Component:n}))}}const Wl={current:null},Kl={current:!1};const Gl=[...ei,rr,dr],Ql=new WeakMap;const Yl=["willChange"],Xl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $l{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Gt.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Vt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget=ft({},l),this.initialValues=n.initial?ft({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=Xa(n),this.isVariantNode=$a(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:d}=h,f=mt(h,Yl);for(const p in f){const e=f[p];void 0!==l[p]&&wn(e)&&e.set(l[p],!1)}}mount(e){this.current=e,Ql.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Kl.current||function(){if(Kl.current=!0,Fe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wl.current=e.matches;e.addListener(t),t()}else Wl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Wl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ut(this.notifyUpdate),Ut(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=fn.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tl){const t=tl[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Xl.length;n++){const t=Xl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(wn(i))e.addValue(r,i);else if(wn(s))e.addValue(r,hn(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,hn(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=hn(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Wr(r)||Ln(r))?r=parseFloat(r):!(e=>Gl.find(Zr(e)))(r)&&dr.test(t)&&(r=Tr(e,t)),this.setBaseTarget(e,wn(r)?r.get():r)),wn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=vt(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||wn(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new it),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Jl extends $l{constructor(){super(...arguments),this.KeyframeResolver=ni}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}class Zl extends Jl{constructor(){super(...arguments),this.type="html",this.renderInstance=jl}readValueFromInstance(e,t){if(fn.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Rr(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=(Gr(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return eo(e,n)}build(e,t,n){dl(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Ol(e,t,n)}}class ec extends Jl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=js,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Fl(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fn.has(t)){const e=Sr(t);return e&&e.default||0}return t=Vl.has(t)?t:En(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Bl(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Vt.postRender(this.updateDimensions)}build(e,t,n){Il(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){Ul(e,t,0,r)}mount(e){this.isSVGTag=Al(e.tagName),super.mount(e)}}const tc=(e,t)=>Sl(e)?new ec(t):new Zl(t,{allowProjection:e!==i.Fragment}),nc=lt(Hl(ft(ft(ft(ft({},Is),Ka),La),Ga),tc)),rc=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ic={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rc(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new sc;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oc=function(e){return function(e){const t=rc(e);return ic.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ac=function(e){try{return ic.decodeString(e,!0)}catch(wA){console.error("base64Decode failed: ",wA)}return null};const lc=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,cc=()=>{try{return lc()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(wA){return}const t=e&&ac(e[1]);return t&&JSON.parse(t)})()}catch(wA){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(wA))}},uc=e=>{var t,n;return null===(n=null===(t=cc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},hc=()=>{var e;return null===(e=cc())||void 0===e?void 0:e.config},dc=e=>{var t;return null===(t=cc())||void 0===t?void 0:t["_".concat(e)]};class fc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function pc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mc(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function gc(){try{return"object"===typeof indexedDB}catch(wA){return!1}}function vc(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class yc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,yc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bc,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yc(n,s,t)}}const bc=/\{\$([^}]+)}/g;function Ec(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Sc(n)&&Sc(s)){if(!Ec(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sc(e){return null!==e&&"object"===typeof e}function Tc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xc(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function kc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Cc{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ic),void 0===r.error&&(r.error=Ic),void 0===r.complete&&(r.complete=Ic);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(wA){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(wA){"undefined"!==typeof console&&console.error&&console.error(wA)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ic(){}function _c(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Ac(e){return e&&e._delegate?e._delegate:e}class Pc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nc="[DEFAULT]";class Dc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new fc;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(wA){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(wA){if(r)return null;throw wA}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Nc})}catch(wA){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(wA){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(bA){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Nc?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(bA){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc;return this.component?this.component.multipleInstances?e:Nc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Dc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Mc=[];var Oc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Oc||(Oc={}));const Lc={debug:Oc.DEBUG,verbose:Oc.VERBOSE,info:Oc.INFO,warn:Oc.WARN,error:Oc.ERROR,silent:Oc.SILENT},Fc=Oc.INFO,jc={[Oc.DEBUG]:"log",[Oc.VERBOSE]:"log",[Oc.INFO]:"info",[Oc.WARN]:"warn",[Oc.ERROR]:"error"},Vc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Uc{constructor(e){this.name=e,this._logLevel=Fc,this._logHandler=Vc,this._userLogHandler=null,Mc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Lc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Oc.DEBUG,...t),this._logHandler(this,Oc.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Oc.VERBOSE,...t),this._logHandler(this,Oc.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Oc.INFO,...t),this._logHandler(this,Oc.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Oc.WARN,...t),this._logHandler(this,Oc.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Oc.ERROR,...t),this._logHandler(this,Oc.ERROR,...t)}}let Bc,zc;const qc=new WeakMap,Hc=new WeakMap,Wc=new WeakMap,Kc=new WeakMap,Gc=new WeakMap;let Qc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $c(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Yc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zc||(zc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jc(this),n),$c(qc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $c(e.apply(Jc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Jc(this),t,...r);return Wc.set(s,t.sort?t.sort():[t]),$c(s)}}function Xc(e){return"function"===typeof e?Yc(e):(e instanceof IDBTransaction&&function(e){if(Hc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Hc.set(e,t)}(e),t=e,(Bc||(Bc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Qc):e);var t}function $c(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t($c(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&qc.set(t,e)})).catch((()=>{})),Gc.set(t,e),t}(e);if(Kc.has(e))return Kc.get(e);const t=Xc(e);return t!==e&&(Kc.set(e,t),Gc.set(t,e)),t}const Jc=e=>Gc.get(e);const Zc=["get","getKey","getAll","getAllKeys","count"],eu=["put","add","delete","clear"],tu=new Map;function nu(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(tu.get(t))return tu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=eu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Zc.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return tu.set(t,s),s}Qc=(e=>ft(ft({},e),{},{get:(t,n,r)=>nu(t,n)||e.get(t,n,r),has:(t,n)=>!!nu(t,n)||e.has(t,n)}))(Qc);class ru{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const iu="@firebase/app",su="0.9.13",ou=new Uc("@firebase/app"),au="@firebase/app-compat",lu="@firebase/analytics-compat",cu="@firebase/analytics",uu="@firebase/app-check-compat",hu="@firebase/app-check",du="@firebase/auth",fu="@firebase/auth-compat",pu="@firebase/database",mu="@firebase/database-compat",gu="@firebase/functions",vu="@firebase/functions-compat",yu="@firebase/installations",wu="@firebase/installations-compat",bu="@firebase/messaging",Eu="@firebase/messaging-compat",Su="@firebase/performance",Tu="@firebase/performance-compat",xu="@firebase/remote-config",ku="@firebase/remote-config-compat",Cu="@firebase/storage",Iu="@firebase/storage-compat",_u="@firebase/firestore",Au="@firebase/firestore-compat",Pu="firebase",Nu="[DEFAULT]",Du={[iu]:"fire-core",[au]:"fire-core-compat",[cu]:"fire-analytics",[lu]:"fire-analytics-compat",[hu]:"fire-app-check",[uu]:"fire-app-check-compat",[du]:"fire-auth",[fu]:"fire-auth-compat",[pu]:"fire-rtdb",[mu]:"fire-rtdb-compat",[gu]:"fire-fn",[vu]:"fire-fn-compat",[yu]:"fire-iid",[wu]:"fire-iid-compat",[bu]:"fire-fcm",[Eu]:"fire-fcm-compat",[Su]:"fire-perf",[Tu]:"fire-perf-compat",[xu]:"fire-rc",[ku]:"fire-rc-compat",[Cu]:"fire-gcs",[Iu]:"fire-gcs-compat",[_u]:"fire-fst",[Au]:"fire-fst-compat","fire-js":"fire-js",[Pu]:"fire-js-all"},Ru=new Map,Mu=new Map;function Ou(e,t){try{e.container.addComponent(t)}catch(wA){ou.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),wA)}}function Lu(e){const t=e.name;if(Mu.has(t))return ou.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mu.set(t,e);for(const n of Ru.values())Ou(n,e);return!0}function Fu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ju=new wc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vu{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pc("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ju.create("app-deleted",{appName:this._name})}}const Uu="9.23.0";function Bu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Nu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ju.create("bad-app-name",{appName:String(i)});if(n||(n=hc()),!n)throw ju.create("no-options");const s=Ru.get(i);if(s){if(Ec(n,s.options)&&Ec(r,s.config))return s;throw ju.create("duplicate-app",{appName:i})}const o=new Rc(i);for(const l of Mu.values())o.addComponent(l);const a=new Vu(n,r,o);return Ru.set(i,a),a}function zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu;const t=Ru.get(e);if(!t&&e===Nu&&hc())return Bu();if(!t)throw ju.create("no-app",{appName:e});return t}function qu(e,t,n){var r;let i=null!==(r=Du[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ou.warn(e.join(" "))}Lu(new Pc("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Hu="firebase-heartbeat-store";let Wu=null;function Ku(){return Wu||(Wu=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=$c(o);return r&&o.addEventListener("upgradeneeded",(e=>{r($c(o.result),e.oldVersion,e.newVersion,$c(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Hu)}}).catch((e=>{throw ju.create("idb-open",{originalErrorMessage:e.message})}))),Wu}async function Gu(e,t){try{const n=(await Ku()).transaction(Hu,"readwrite"),r=n.objectStore(Hu);await r.put(t,Qu(e)),await n.done}catch(wA){if(wA instanceof yc)ou.warn(wA.message);else{const t=ju.create("idb-set",{originalErrorMessage:null===wA||void 0===wA?void 0:wA.message});ou.warn(t.message)}}}function Qu(e){return"".concat(e.name,"!").concat(e.options.appId)}class Yu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $u(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Xu();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Xu(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ju(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ju(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=oc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Xu(){return(new Date).toISOString().substring(0,10)}class $u{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!gc()&&vc().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ku();return await t.transaction(Hu).objectStore(Hu).get(Qu(e))}catch(wA){if(wA instanceof yc)ou.warn(wA.message);else{const t=ju.create("idb-get",{originalErrorMessage:null===wA||void 0===wA?void 0:wA.message});ou.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Gu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ju(e){return oc(JSON.stringify({version:2,heartbeats:e})).length}var Zu;Zu="",Lu(new Pc("platform-logger",(e=>new ru(e)),"PRIVATE")),Lu(new Pc("heartbeat",(e=>new Yu(e)),"PRIVATE")),qu(iu,su,Zu),qu(iu,su,"esm2017"),qu("fire-js","");qu("firebase","9.23.0","app");function eh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function th(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nh=th,rh=new wc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ih=new Uc("@firebase/auth");function sh(e){if(ih.logLevel<=Oc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ih.error("Auth (".concat(Uu,"): ").concat(e),...n)}}function oh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ch(e,...n)}function ah(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ch(e,...n)}function lh(e,t,n){const r=Object.assign(Object.assign({},nh()),{[t]:n});return new wc("auth","Firebase",r).create(t,{appName:e.name})}function ch(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return rh.create(e,...n)}function uh(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ch(t,...r)}}function hh(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sh(t),new Error(t)}function dh(e,t){e||hh(t)}function fh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ph(){return"http:"===mh()||"https:"===mh()}function mh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class gh{constructor(e,t){this.shortDelay=e,this.longDelay=t,dh(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pc())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ph()||mc()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vh(e,t){dh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class yh{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void hh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void hh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void hh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bh=new gh(3e4,6e4);function Eh(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Sh(e,t,n,r){return Th(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Tc(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),yh.fetch()(kh(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Th(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},wh),t);try{const t=new Ch(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ih(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ih(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ih(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ih(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw lh(e,a,o);oh(e,a)}}catch(wA){if(wA instanceof yc)throw wA;oh(e,"network-request-failed",{message:String(wA)})}}async function xh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Sh(e,t,n,r,i);return"mfaPendingCredential"in s&&oh(e,"multi-factor-auth-required",{_serverResponse:s}),s}function kh(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Ch{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ah(this.auth,"network-request-failed"))),bh.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ih(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ah(e,t,r);return i.customData._tokenResponse=n,i}function _h(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(wA){}}function Ah(e){return 1e3*Number(e)}function Ph(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const e=ac(n);return e?JSON.parse(e):(sh("Failed to decode base64 JWT payload"),null)}catch(wA){return sh("Caught error parsing JWT payload as JSON",null===wA||void 0===wA?void 0:wA.toString()),null}}async function Nh(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(wA){throw wA instanceof yc&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(wA)&&e.auth.currentUser===e&&await e.auth.signOut(),wA}}class Dh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(wA){return void((null===wA||void 0===wA?void 0:wA.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Rh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Nh(e,async function(e,t){return Sh(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));uh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=eh(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Rh(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Oh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){uh(e.idToken,"internal-error"),uh("undefined"!==typeof e.idToken,"internal-error"),uh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ph(e);return uh(t,"internal-error"),uh("undefined"!==typeof t.exp,"internal-error"),uh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return uh(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Th(e,{},(async()=>{const n=Tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=kh(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",yh.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Oh;return n&&(uh("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(uh("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(uh("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oh,this.toJSON())}_performRefresh(){return hh("not implemented")}}function Lh(e,t){uh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Fh{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return uh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ac(e),r=await n.getIdToken(t),i=Ph(r);uh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(Ah(i.auth_time)),issuedAtTime:_h(Ah(i.iat)),expirationTime:_h(Ah(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ac(e);await Mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(uh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){uh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Nh(this,async function(e,t){return Sh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:S}=t;uh(y&&S,e,"internal-error");const T=Oh.fromJSON(this.name,S);uh("string"===typeof y,e,"internal-error"),Lh(u,e.name),Lh(h,e.name),uh("boolean"===typeof w,e,"internal-error"),uh("boolean"===typeof b,e,"internal-error"),Lh(d,e.name),Lh(f,e.name),Lh(p,e.name),Lh(m,e.name),Lh(g,e.name),Lh(v,e.name);const x=new Fh({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(x.providerData=E.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Oh;r.updateFromServerResponse(t);const i=new Fh({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Mh(i),i}}const jh=new Map;function Vh(e){dh(e instanceof Function,"Expected a class definition");let t=jh.get(e);return t?(dh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jh.set(e,t),t)}class Uh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Uh.type="NONE";const Bh=Uh;function zh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class qh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=zh(this.userKey,r.apiKey,i),this.fullPersistenceKey=zh("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new qh(Vh(Bh),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Vh(Bh);const s=zh(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Fh._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(bA){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(bA){}}))),new qh(i,e,n)):new qh(i,e,n)}}function Hh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xh(t))return"Blackberry";if($h(t))return"Webos";if(Kh(t))return"Safari";if((t.includes("chrome/")||Gh(t))&&!t.includes("edge/"))return"Chrome";if(Yh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Wh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return/firefox\//i.test(e)}function Kh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return/crios\//i.test(e)}function Qh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return/iemobile/i.test(e)}function Yh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return/android/i.test(e)}function Xh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return/blackberry/i.test(e)}function $h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return/webos/i.test(e)}function Jh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Zh(){return function(){const e=pc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();return Jh(e)||Yh(e)||$h(e)||Xh(e)||/windows phone/i.test(e)||Qh(e)}function td(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Hh(pc());break;case"Worker":t="".concat(Hh(pc()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Uu,"/").concat(r)}async function nd(e,t){return Sh(e,"GET","/v2/recaptchaConfig",Eh(e,t))}function rd(e){return void 0!==e&&void 0!==e.enterprise}class id{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function sd(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ah("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function od(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ad{constructor(e){this.type="recaptcha-enterprise",this.auth=hd(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;rd(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{nd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new id(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&rd(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));sd("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ld(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ad(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class cd{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(wA){r(wA)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(wA){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===wA||void 0===wA?void 0:wA.message})}}}class ud{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dd(this),this.idTokenSubscription=new dd(this),this.beforeStateQueue=new cd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vh(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await qh.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(wA){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(wA){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(wA)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return uh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(wA){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(wA){if((null===wA||void 0===wA?void 0:wA.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ac(e):null;return t&&uh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&uh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Vh(e))}))}async initializeRecaptchaConfig(){const e=await nd(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new id(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ad(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vh(e)||this._popupRedirectResolver;uh(t,this,"argument-error"),this.redirectPersistenceManager=await qh.create(this,[Vh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return uh(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return uh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=td(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ih.logLevel<=Oc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ih.warn("Auth (".concat(Uu,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function hd(e){return Ac(e)}class dd{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Cc(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return uh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fd(e,t,n){const r=hd(e);uh(r._canInitEmulator,r,"emulator-config-failed"),uh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=pd(t),{host:o,port:a}=function(e){const t=pd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:md(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:md(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function pd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function md(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class gd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hh("not implemented")}_getIdTokenResponse(e){return hh("not implemented")}_linkToIdToken(e,t){return hh("not implemented")}_getReauthenticationResolver(e){return hh("not implemented")}}async function vd(e,t){return Sh(e,"POST","/v1/accounts:update",t)}async function yd(e,t){return xh(e,"POST","/v1/accounts:signInWithPassword",Eh(e,t))}async function wd(e,t){return Sh(e,"POST","/v1/accounts:sendOobCode",Eh(e,t))}async function bd(e,t){return wd(e,t)}class Ed extends gd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ed(e,t,"password")}static _fromEmailAndCode(e,t){return new Ed(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await ld(e,n,"signInWithPassword");return yd(e,t)}return yd(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await ld(e,n,"signInWithPassword");return yd(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithEmailLink",Eh(e,t))}(e,{email:this._email,oobCode:this._password});default:oh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return vd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithEmailLink",Eh(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:oh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sd(e,t){return xh(e,"POST","/v1/accounts:signInWithIdp",Eh(e,t))}class Td extends gd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Td(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=eh(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Td(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Sd(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Sd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sd(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tc(t)}return e}}const xd={USER_NOT_FOUND:"user-not-found"};class kd extends gd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new kd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new kd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithPhoneNumber",Eh(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await xh(e,"POST","/v1/accounts:signInWithPhoneNumber",Eh(e,t));if(n.temporaryProof)throw Ih(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return xh(e,"POST","/v1/accounts:signInWithPhoneNumber",Eh(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),xd)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new kd({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Cd{constructor(e){var t,n,r,i,s,o;const a=xc(kc(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);uh(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=xc(kc(e)).link,n=t?xc(kc(t)).deep_link_id:null,r=xc(kc(e)).deep_link_id;return(r?xc(kc(r)).link:null)||r||n||t||e}(e);try{return new Cd(t)}catch(bA){return null}}}class Id{constructor(){this.providerId=Id.PROVIDER_ID}static credential(e,t){return Ed._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Cd.parseLink(t);return uh(n,"argument-error"),Ed._fromEmailAndCode(e,n.code,n.tenantId)}}Id.PROVIDER_ID="password",Id.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _d{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ad extends _d{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pd extends Ad{constructor(){super("facebook.com")}static credential(e){return Td._fromParams({providerId:Pd.PROVIDER_ID,signInMethod:Pd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pd.credentialFromTaggedObject(e)}static credentialFromError(e){return Pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pd.credential(t.oauthAccessToken)}catch(bA){return null}}}Pd.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pd.PROVIDER_ID="facebook.com";class Nd extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Td._fromParams({providerId:Nd.PROVIDER_ID,signInMethod:Nd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nd.credentialFromTaggedObject(e)}static credentialFromError(e){return Nd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Nd.credential(n,r)}catch(bA){return null}}}Nd.GOOGLE_SIGN_IN_METHOD="google.com",Nd.PROVIDER_ID="google.com";class Dd extends Ad{constructor(){super("github.com")}static credential(e){return Td._fromParams({providerId:Dd.PROVIDER_ID,signInMethod:Dd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dd.credentialFromTaggedObject(e)}static credentialFromError(e){return Dd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Dd.credential(t.oauthAccessToken)}catch(bA){return null}}}Dd.GITHUB_SIGN_IN_METHOD="github.com",Dd.PROVIDER_ID="github.com";class Rd extends Ad{constructor(){super("twitter.com")}static credential(e,t){return Td._fromParams({providerId:Rd.PROVIDER_ID,signInMethod:Rd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rd.credentialFromTaggedObject(e)}static credentialFromError(e){return Rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Rd.credential(n,r)}catch(bA){return null}}}async function Md(e,t){return xh(e,"POST","/v1/accounts:signUp",Eh(e,t))}Rd.TWITTER_SIGN_IN_METHOD="twitter.com",Rd.PROVIDER_ID="twitter.com";class Od{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Fh._fromIdTokenResponse(e,n,r),s=Ld(n);return new Od({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ld(n);return new Od({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ld(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Fd extends yc{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Fd(e,t,n,r)}}function jd(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fd._fromErrorAndOperation(e,n,t,r);throw n}))}async function Vd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Nh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Od._forOperation(e,"link",r)}async function Ud(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Nh(e,jd(r,i,t,e),n);uh(s.idToken,r,"internal-error");const o=Ph(s.idToken);uh(o,r,"internal-error");const{sub:a}=o;return uh(e.uid===a,r,"user-mismatch"),Od._forOperation(e,i,s)}catch(wA){throw(null===wA||void 0===wA?void 0:wA.code)==="auth/".concat("user-not-found")&&oh(r,"user-mismatch"),wA}}async function Bd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await jd(e,r,t),s=await Od._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function zd(e,t){return Bd(hd(e),t)}function qd(e,t,n){var r;uh((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),uh("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(uh(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(uh(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}new WeakMap;const Hd="__sak";class Wd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch(bA){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Kd extends Wd{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=pc();return Kh(e)||Jh(e)}()&&function(){try{return!(!window||window===window.top)}catch(wA){return!1}}(),this.fallbackToPolling=ed(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Zh()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kd.type="LOCAL";const Gd=Kd;class Qd extends Wd{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qd.type="SESSION";const Yd=Qd;class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Xd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function $d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xd.receivers=[];class Jd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=$d("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Zd(){return window}function ef(){return"undefined"!==typeof Zd().WorkerGlobalScope&&"function"===typeof Zd().importScripts}const tf="firebaseLocalStorageDb",nf="firebaseLocalStorage",rf="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function of(e,t){return e.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function af(){const e=indexedDB.open(tf,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(nf,{keyPath:rf})}catch(wA){n(wA)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(nf)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(tf);return new sf(e).toPromise()}(),t(await af()))}))}))}async function lf(e,t,n){const r=of(e,!0).put({[rf]:t,value:n});return new sf(r).toPromise()}function cf(e,t){const n=of(e,!0).delete(t);return new sf(n).toPromise()}class uf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await af()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(wA){if(t++>3)throw wA;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ef()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(ef()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Jd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(bA){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await af();return await lf(e,Hd,"1"),await cf(e,Hd),!0}catch(bA){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>lf(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=of(e,!1).get(t),r=await new sf(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>cf(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=of(e,!1).getAll();return new sf(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}uf.type="LOCAL";const hf=uf;od("rcb"),new gh(3e4,6e4);const df="recaptcha";async function ff(e,t,n){var r;const i=await n.verify();try{let s;if(uh("string"===typeof i,e,"argument-error"),uh(n.type===df,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){uh("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Sh(e,"POST","/v2/accounts/mfaEnrollment:start",Eh(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{uh("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;uh(n,e,"missing-multi-factor-info");const o=await function(e,t){return Sh(e,"POST","/v2/accounts/mfaSignIn:start",Eh(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Sh(e,"POST","/v1/accounts:sendVerificationCode",Eh(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class pf{constructor(e){this.providerId=pf.PROVIDER_ID,this.auth=hd(e)}verifyPhoneNumber(e,t){return ff(this.auth,e,Ac(t))}static credential(e,t){return kd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pf.credentialFromTaggedObject(t)}static credentialFromError(e){return pf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?kd._fromTokenResponse(n,r):null}}function mf(e,t){return t?Vh(t):(uh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pf.PROVIDER_ID="phone",pf.PHONE_SIGN_IN_METHOD="phone";class gf extends gd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vf(e){return Bd(e.auth,new gf(e),e.bypassAuthState)}function yf(e){const{auth:t,user:n}=e;return uh(n,t,"internal-error"),Ud(n,new gf(e),e.bypassAuthState)}async function wf(e){const{auth:t,user:n}=e;return uh(n,t,"internal-error"),Vd(n,new gf(e),e.bypassAuthState)}class bf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(wA){this.reject(wA)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(wA){this.reject(wA)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vf;case"linkViaPopup":case"linkViaRedirect":return wf;case"reauthViaPopup":case"reauthViaRedirect":return yf;default:oh(this.auth,"internal-error")}}resolve(e){dh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ef=new gh(2e3,1e4);class Sf extends bf{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Sf.currentPopupAction&&Sf.currentPopupAction.cancel(),Sf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return uh(e,this.auth,"internal-error"),e}async onExecution(){dh(1===this.filter.length,"Popup operations only handle one event");const e=$d();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ah(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ah(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ah(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ef.get())};e()}}Sf.currentPopupAction=null;const Tf=new Map;class xf extends bf{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=If(t),r=Cf(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(wA){e=()=>Promise.reject(wA)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function kf(e,t){Tf.set(e._key(),t)}function Cf(e){return Vh(e._redirectPersistence)}function If(e){return zh("pendingRedirect",e.config.apiKey,e.name)}async function _f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=hd(e),i=mf(r,t),s=new xf(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Af{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Nf(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ah(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pf(e))}saveEventToCache(e){this.cachedEventUids.add(Pf(e)),this.lastProcessedEventTime=Date.now()}}function Pf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Nf(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Df=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rf=/^https?/;async function Mf(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Sh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Of(n))return}catch(bA){}oh(e,"unauthorized-domain")}function Of(e){const t=fh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Rf.test(n))return!1;if(Df.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Lf=new gh(3e4,6e4);function Ff(){const e=Zd().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let jf=null;function Vf(e){return jf=jf||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Ff(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ff(),n(ah(e,"network-request-failed"))},timeout:Lf.get()})}if(null===(i=null===(r=Zd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Zd().gapi)||void 0===s?void 0:s.load)){const t=od("iframefcb");return Zd()[t]=()=>{gapi.load?o():n(ah(e,"network-request-failed"))},sd("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw jf=null,e}))}(e),jf}const Uf=new gh(5e3,15e3),Bf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qf(e){const t=e.config;uh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vh(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Uu},i=zf.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Tc(r).slice(1))}const Hf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(wA){}}}function Kf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Hf),{width:r.toString(),height:i.toString(),top:s,left:o}),c=pc().toLowerCase();n&&(a=Gh(c)?"_blank":n),Wh(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Jh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Wf(null);const h=window.open(t||"",a,u);uh(h,e,"popup-blocked");try{h.focus()}catch(wA){}return new Wf(h)}const Gf="__/auth/handler",Qf="emulator/auth/handler",Yf=encodeURIComponent("fac");async function Xf(e,t,n,r,i,s){uh(e.config.authDomain,e,"auth-domain-config-required"),uh(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Uu,eventId:i};if(t instanceof _d){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Ad){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Yf,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gf);return vh(t,Qf)}(e),"?").concat(Tc(a).slice(1)).concat(c)}const $f="webStorageSupport";const Jf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yd,this._completeRedirectFn=_f,this._overrideRedirectResult=kf}async _openPopup(e,t,n,r){var i;dh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Kf(e,await Xf(e,t,n,fh(),r),$d())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Zd().location.href=e}(await Xf(e,t,n,fh(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(dh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Vf(e),n=Zd().gapi;return uh(n,e,"internal-error"),t.open({where:document.body,url:qf(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bf,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ah(e,"network-request-failed"),s=Zd().setTimeout((()=>{r(i)}),Uf.get());function o(){Zd().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Af(e);return t.register("authEvent",(t=>{uh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($f,{type:$f},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[$f];void 0!==i&&t(!!i),oh(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mf(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ed()||Kh()||Jh()}};var Zf="@firebase/auth",ep="0.23.2";class tp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){uh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const np=dc("authIdTokenMaxAge")||300;let rp=null;function ip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zu();const t=Fu(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Fu(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ec(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;oh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Jf,persistence:[hf,Gd,Yd]}),r=dc("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>np)return;const r=null===t||void 0===t?void 0:t.token;rp!==r&&(rp=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Ac(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){Ac(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=uc("auth");return s&&fd(n,"http://".concat(s)),n}var sp;sp="Browser",Lu(new Pc("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;uh(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:sp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:td(sp)},c=new ud(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vh);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Lu(new Pc("auth-internal",(e=>(e=>new tp(e))(hd(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),qu(Zf,ep,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(sp)),qu(Zf,ep,"esm2017");let op,ap;const lp=new WeakMap,cp=new WeakMap,up=new WeakMap,hp=new WeakMap,dp=new WeakMap;let fp={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return cp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||up.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gp(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ap||(ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vp(this),n),gp(lp.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gp(e.apply(vp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(vp(this),t,...r);return up.set(s,t.sort?t.sort():[t]),gp(s)}}function mp(e){return"function"===typeof e?pp(e):(e instanceof IDBTransaction&&function(e){if(cp.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));cp.set(e,t)}(e),t=e,(op||(op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,fp):e);var t}function gp(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(gp(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&lp.set(t,e)})).catch((()=>{})),dp.set(t,e),t}(e);if(hp.has(e))return hp.get(e);const t=mp(e);return t!==e&&(hp.set(e,t),dp.set(t,e)),t}const vp=e=>dp.get(e);const yp=["get","getKey","getAll","getAllKeys","count"],wp=["put","add","delete","clear"],bp=new Map;function Ep(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(bp.get(t))return bp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=wp.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yp.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return bp.set(t,s),s}!function(e){fp=e(fp)}((e=>ft(ft({},e),{},{get:(t,n,r)=>Ep(t,n)||e.get(t,n,r),has:(t,n)=>!!Ep(t,n)||e.has(t,n)})));const Sp="@firebase/installations",Tp="0.6.4",xp=1e4,kp="w:".concat(Tp),Cp="FIS_v2",Ip=36e5,_p=new wc("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ap(e){return e instanceof yc&&e.code.includes("request-failed")}function Pp(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Np(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Dp(e,t){const n=(await t.json()).error;return _p.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Rp(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mp(e,t){let{refreshToken:n}=t;const r=Rp(e);return r.append("Authorization",function(e){return"".concat(Cp," ").concat(e)}(n)),r}async function Op(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Lp(e){return new Promise((t=>{setTimeout(t,e)}))}const Fp=/^[cdef][\w-]{21}$/;function jp(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Fp.test(t)?t:""}catch(bA){return""}}function Vp(e){return"".concat(e.appName,"!").concat(e.appId)}const Up=new Map;function Bp(e,t){const n=Vp(e);zp(n,t),function(e,t){const n=Hp();n&&n.postMessage({key:e,fid:t});Wp()}(n,t)}function zp(e,t){const n=Up.get(e);if(n)for(const r of n)r(t)}let qp=null;function Hp(){return!qp&&"BroadcastChannel"in self&&(qp=new BroadcastChannel("[Firebase] FID Change"),qp.onmessage=e=>{zp(e.data.key,e.data.fid)}),qp}function Wp(){0===Up.size&&qp&&(qp.close(),qp=null)}const Kp="firebase-installations-store";let Gp=null;function Qp(){return Gp||(Gp=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=gp(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(gp(o.result),e.oldVersion,e.newVersion,gp(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Kp)}})),Gp}async function Yp(e,t){const n=Vp(e),r=(await Qp()).transaction(Kp,"readwrite"),i=r.objectStore(Kp),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Bp(e,t.fid),t}async function Xp(e){const t=Vp(e),n=(await Qp()).transaction(Kp,"readwrite");await n.objectStore(Kp).delete(t),await n.done}async function $p(e,t){const n=Vp(e),r=(await Qp()).transaction(Kp,"readwrite"),i=r.objectStore(Kp),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||Bp(e,o.fid),o}async function Jp(e){let t;const n=await $p(e.appConfig,(n=>{const r=function(e){const t=e||{fid:jp(),registrationStatus:0};return tm(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(_p.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Pp(n),o=Rp(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Cp,appId:n.appId,sdkVersion:kp},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Op((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Np(e.authToken)}}throw await Dp("Create Installation",u)}(e,t);return Yp(e.appConfig,n)}catch(wA){throw Ap(wA)&&409===wA.customData.serverCode?await Xp(e.appConfig):await Yp(e.appConfig,{fid:t.fid,registrationStatus:0}),wA}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Zp(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Zp(e){let t=await em(e.appConfig);for(;1===t.registrationStatus;)await Lp(100),t=await em(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Jp(e);return n||t}return t}function em(e){return $p(e,(e=>{if(!e)throw _p.create("installation-not-found");return tm(e)}))}function tm(e){return 1===(t=e).registrationStatus&&t.registrationTime+xp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function nm(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Pp(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Mp(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:kp,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await Op((()=>fetch(i,l)));if(c.ok){return Np(await c.json())}throw await Dp("Generate Auth Token",c)}async function rm(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await $p(e.appConfig,(r=>{if(!sm(r))throw _p.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ip}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await im(e.appConfig);for(;1===n.authToken.requestStatus;)await Lp(100),n=await im(e.appConfig);const r=n.authToken;return 0===r.requestStatus?rm(e,t):r}(e,n),r;{if(!navigator.onLine)throw _p.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await nm(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Yp(e.appConfig,r),n}catch(wA){if(!Ap(wA)||401!==wA.customData.serverCode&&404!==wA.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Yp(e.appConfig,n)}else await Xp(e.appConfig);throw wA}}(e,n),n}}));return t?await t:r.authToken}function im(e){return $p(e,(e=>{if(!sm(e))throw _p.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+xp<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function sm(e){return void 0!==e&&2===e.registrationStatus}async function om(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Jp(e);t&&await t}(n);return(await rm(n,t)).token}function am(e){return _p.create("missing-app-config-values",{valueName:e})}const lm="installations",cm=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw am("App Configuration");if(!e.name)throw am("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw am(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Fu(t,"heartbeat"),_delete:()=>Promise.resolve()}},um=e=>{const t=Fu(e.getProvider("app").getImmediate(),lm).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Jp(t);return r?r.catch(console.error):rm(t).catch(console.error),n.fid}(t),getToken:e=>om(t,e)}};Lu(new Pc(lm,cm,"PUBLIC")),Lu(new Pc("installations-internal",um,"PRIVATE")),qu(Sp,Tp),qu(Sp,Tp,"esm2017");const hm="analytics",dm="https://www.googletagmanager.com/gtag/js",fm=new Uc("@firebase/analytics"),pm=new wc("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mm(e){if(!e.startsWith(dm)){const t=pm.create("invalid-gtag-resource",{gtagURL:e});return fm.warn(t.message),""}return e}function gm(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function vm(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:mm}),r=document.createElement("script"),i="".concat(dm,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ym(e,t,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await gm(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(wA){fm.error(wA)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=o;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await gm(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(wA){fm.error(wA)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t]=o;e("consent","update",t)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(wA){fm.error(wA)}}}const wm=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bm(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Em(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wm,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw pm.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pm.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Tm;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),Sm({appId:r,apiKey:i,measurementId:s},o,a,t)}async function Sm(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wm;var o;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(pm.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(wA){if(l)return fm.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===wA||void 0===wA?void 0:wA.message,"]")),{appId:a,measurementId:l};throw wA}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:bm(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw pm.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(a),t}catch(wA){const r=wA;if(!function(e){if(!(e instanceof yc)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(a),l)return fm.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:l};throw wA}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?_c(i,s.intervalMillis,30):_c(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(a,u),fm.debug("Calling attemptFetch again in ".concat(c," millis")),Sm(e,u,n,s)}}class Tm{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let xm,km;function Cm(e){km=e}function Im(e){xm=e}async function _m(e,t,n,r,i,s,o){var a;const l=Em(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&fm.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>fm.error(e))),t.push(l);const c=async function(){if(!gc())return fm.warn(pm.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await vc()}catch(wA){return fm.warn(pm.create("indexeddb-unavailable",{errorInfo:null===wA||void 0===wA?void 0:wA.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(dm)&&n.src.includes(e))return n;return null})(s)||vm(s,u.measurementId),km&&(i("consent","default",km),Cm(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),xm&&(i("set",xm),Im(void 0)),u.measurementId}class Am{constructor(e){this.app=e}_delete(){return delete Pm[this.app.options.appId],Promise.resolve()}}let Pm={},Nm=[];const Dm={};let Rm,Mm,Om="dataLayer",Lm="gtag",Fm=!1;function jm(){const e=[];if(mc()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=pm.create("invalid-analytics-context",{errorInfo:t});fm.warn(n.message)}}function Vm(e,t,n){jm();const r=e.options.appId;if(!r)throw pm.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw pm.create("no-api-key");fm.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Pm[r])throw pm.create("already-exists",{id:r});if(!Fm){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Om);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=ym(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Pm,Nm,Dm,Om,Lm);Mm=e,Rm=t,Fm=!0}Pm[r]=_m(e,Nm,Dm,t,Rm,Om,n);return new Am(e)}function Um(e,t,n,r){e=Ac(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Mm,Pm[e.app.options.appId],t,n,r).catch((e=>fm.error(e)))}const Bm="@firebase/analytics",zm="0.10.0";Lu(new Pc(hm,((e,t)=>{let{options:n}=t;return Vm(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Lu(new Pc("analytics-internal",(function(e){try{const t=e.getProvider(hm).getImmediate();return{logEvent:(e,n,r)=>Um(t,e,n,r)}}catch(wA){throw pm.create("interop-component-reg-failed",{reason:wA})}}),"PRIVATE")),qu(Bm,zm),qu(Bm,zm,"esm2017");var qm,Hm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wm={},Km=Km||{},Gm=Hm||self;function Qm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ym(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Xm="closure_uid_"+(1e9*Math.random()>>>0),$m=0;function Jm(e,t,n){return e.call.apply(e.bind,arguments)}function Zm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function eg(e,t,n){return(eg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jm:Zm).apply(null,arguments)}function tg(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ng(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function rg(){this.s=this.s,this.o=this.o}rg.prototype.s=!1,rg.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Xm)&&e[Xm]||(e[Xm]=++$m))},rg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ig=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function sg(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function og(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Qm(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ag(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ag.prototype.h=function(){this.defaultPrevented=!0};var lg=function(){if(!Gm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Gm.addEventListener("test",(()=>{}),t),Gm.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function cg(e){return/^[\s\xa0]*$/.test(e)}function ug(){var e=Gm.navigator;return e&&(e=e.userAgent)?e:""}function hg(e){return-1!=ug().indexOf(e)}function dg(e){return dg[" "](e),e}dg[" "]=function(){};var fg,pg,mg=hg("Opera"),gg=hg("Trident")||hg("MSIE"),vg=hg("Edge"),yg=vg||gg,wg=hg("Gecko")&&!(-1!=ug().toLowerCase().indexOf("webkit")&&!hg("Edge"))&&!(hg("Trident")||hg("MSIE"))&&!hg("Edge"),bg=-1!=ug().toLowerCase().indexOf("webkit")&&!hg("Edge");function Eg(){var e=Gm.document;return e?e.documentMode:void 0}e:{var Sg="",Tg=function(){var e=ug();return wg?/rv:([^\);]+)(\)|;)/.exec(e):vg?/Edge\/([\d\.]+)/.exec(e):gg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bg?/WebKit\/(\S+)/.exec(e):mg?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tg&&(Sg=Tg?Tg[1]:""),gg){var xg=Eg();if(null!=xg&&xg>parseFloat(Sg)){fg=String(xg);break e}}fg=Sg}if(Gm.document&&gg){var kg=Eg();pg=kg||(parseInt(fg,10)||void 0)}else pg=void 0;var Cg=pg;function Ig(e,t){if(ag.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(wg){e:{try{dg(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_g[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ig.$.h.call(this)}}ng(Ig,ag);var _g={2:"touch",3:"pen",4:"mouse"};Ig.prototype.h=function(){Ig.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ag="closure_listenable_"+(1e6*Math.random()|0),Pg=0;function Ng(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Pg,this.fa=this.ia=!1}function Dg(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Rg(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Mg(e){const t={};for(const n in e)t[n]=e[n];return t}const Og="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lg(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Og.length;t++)n=Og[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fg(e){this.src=e,this.g={},this.h=0}function jg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ig(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Dg(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vg(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Fg.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Vg(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ng(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ug="closure_lm_"+(1e6*Math.random()|0),Bg={};function zg(e,t,n,r,i){if(r&&r.once)return Hg(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)zg(e,t[s],n,r,i);return null}return n=$g(n),e&&e[Ag]?e.O(t,n,Ym(r)?!!r.capture:!!r,i):qg(e,t,n,!1,r,i)}function qg(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ym(i)?!!i.capture:!!i,a=Yg(e);if(a||(e[Ug]=a=new Fg(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Qg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)lg||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Gg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Hg(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Hg(e,t[s],n,r,i);return null}return n=$g(n),e&&e[Ag]?e.P(t,n,Ym(r)?!!r.capture:!!r,i):qg(e,t,n,!0,r,i)}function Wg(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Wg(e,t[s],n,r,i);else r=Ym(r)?!!r.capture:!!r,n=$g(n),e&&e[Ag]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vg(s=e.g[t],n,r,i))&&(Dg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Yg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vg(t,n,r,i)),(n=-1<e?t[e]:null)&&Kg(n))}function Kg(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ag])jg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Gg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Yg(t))?(jg(n,e),0==n.h&&(n.src=null,t[Ug]=null)):Dg(e)}}}function Gg(e){return e in Bg?Bg[e]:Bg[e]="on"+e}function Qg(e,t){if(e.fa)e=!0;else{t=new Ig(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Kg(e),e=n.call(r,t)}return e}function Yg(e){return(e=e[Ug])instanceof Fg?e:null}var Xg="__closure_events_fn_"+(1e9*Math.random()>>>0);function $g(e){return"function"===typeof e?e:(e[Xg]||(e[Xg]=function(t){return e.handleEvent(t)}),e[Xg])}function Jg(){rg.call(this),this.i=new Fg(this),this.S=this,this.J=null}function Zg(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ag(t,e);else if(t instanceof ag)t.target=t.target||e;else{var i=t;Lg(t=new ag(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ev(o,r,!0,t)&&i}if(i=ev(o=t.g=e,r,!0,t)&&i,i=ev(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ev(o=t.g=n[s],r,!1,t)&&i}function ev(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&jg(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}ng(Jg,rg),Jg.prototype[Ag]=!0,Jg.prototype.removeEventListener=function(e,t,n,r){Wg(this,e,t,n,r)},Jg.prototype.N=function(){if(Jg.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dg(n[r]);delete t.g[e],t.h--}}this.J=null},Jg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Jg.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var tv=Gm.JSON.stringify;function nv(){var e=cv;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var rv=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new iv),(e=>e.reset()));class iv{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sv(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ov(e){Gm.setTimeout((()=>{throw e}),0)}let av,lv=!1,cv=new class{constructor(){this.h=this.g=null}add(e,t){const n=rv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},uv=()=>{const e=Gm.Promise.resolve(void 0);av=()=>{e.then(hv)}};var hv=()=>{for(var e;e=nv();){try{e.h.call(e.g)}catch(n){ov(n)}var t=rv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lv=!1};function dv(e,t){Jg.call(this),this.h=e||1,this.g=t||Gm,this.j=eg(this.qb,this),this.l=Date.now()}function fv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function pv(e,t,n){if("function"===typeof e)n&&(e=eg(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=eg(e.handleEvent,e)}return 2147483647<Number(t)?-1:Gm.setTimeout(e,t||0)}function mv(e){e.g=pv((()=>{e.g=null,e.i&&(e.i=!1,mv(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ng(dv,Jg),(qm=dv.prototype).ga=!1,qm.T=null,qm.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zg(this,"tick"),this.ga&&(fv(this),this.start()))}},qm.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qm.N=function(){dv.$.N.call(this),fv(this),delete this.g};class gv extends rg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mv(this)}N(){super.N(),this.g&&(Gm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vv(e){rg.call(this),this.h=e,this.g={}}ng(vv,rg);var yv=[];function wv(e,t,n,r){Array.isArray(n)||(n&&(yv[0]=n.toString()),n=yv);for(var i=0;i<n.length;i++){var s=zg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function bv(e){Rg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Kg(e)}),e),e.g={}}function Ev(){this.g=!0}function Sv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return tv(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}vv.prototype.N=function(){vv.$.N.call(this),bv(this)},vv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ev.prototype.Ea=function(){this.g=!1},Ev.prototype.info=function(){};var Tv={},xv=null;function kv(){return xv=xv||new Jg}function Cv(e){ag.call(this,Tv.Ta,e)}function Iv(e){const t=kv();Zg(t,new Cv(t))}function _v(e,t){ag.call(this,Tv.STAT_EVENT,e),this.stat=t}function Av(e){const t=kv();Zg(t,new _v(t,e))}function Pv(e,t){ag.call(this,Tv.Ua,e),this.size=t}function Nv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Gm.setTimeout((function(){e()}),t)}Tv.Ta="serverreachability",ng(Cv,ag),Tv.STAT_EVENT="statevent",ng(_v,ag),Tv.Ua="timingevent",ng(Pv,ag);var Dv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mv(){}function Ov(e){return e.h||(e.h=e.i())}function Lv(){}Mv.prototype.h=null;var Fv,jv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vv(){ag.call(this,"d")}function Uv(){ag.call(this,"c")}function Bv(){}function zv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new vv(this),this.P=Hv,e=yg?125:void 0,this.V=new dv(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qv}function qv(){this.i=null,this.g="",this.h=!1}ng(Vv,ag),ng(Uv,ag),ng(Bv,Mv),Bv.prototype.g=function(){return new XMLHttpRequest},Bv.prototype.i=function(){return{}},Fv=new Bv;var Hv=45e3,Wv={},Kv={};function Gv(e,t,n){e.L=1,e.v=dy(ay(t)),e.s=n,e.S=!0,Qv(e,null)}function Qv(e,t){e.G=Date.now(),Jv(e),e.A=ay(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ky(n.i,"t",r),e.C=0,n=e.l.J,e.h=new qv,e.g=Cw(e.l,n?t:null,!e.s),0<e.O&&(e.M=new gv(eg(e.Pa,e,e.g),e.O)),wv(e.U,e.g,"readystatechange",e.nb),t=e.I?Mg(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Iv(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Yv(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Xv(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=$v(e,n),r==Kv){4==t&&(e.o=4,Av(14),i=!1),Sv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Wv){e.o=4,Av(15),Sv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Sv(e.j,e.m,r,null),ry(e,r)}Yv(e)&&r!=Kv&&r!=Wv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Av(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yw(t),t.M=!0,Av(11))):(Sv(e.j,e.m,n,"[Invalid Chunked Response]"),ny(e),ty(e))}function $v(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Kv:(n=Number(t.substring(n,r)),isNaN(n)?Wv:(r+=1)+n>t.length?Kv:(t=t.slice(r,r+n),e.C=r+n,t))}function Jv(e){e.Y=Date.now()+e.P,Zv(e,e.P)}function Zv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Nv(eg(e.lb,e),t)}function ey(e){e.B&&(Gm.clearTimeout(e.B),e.B=null)}function ty(e){0==e.l.H||e.J||Ew(e.l,e)}function ny(e){ey(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,fv(e.V),bv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ry(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Dy(n.i,e)))if(!e.K&&Dy(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;bw(n),uw(n)}vw(n),Av(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Nv(eg(n.ib,n),6e3));if(1>=Ny(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Tw(n,11)}else if((e.K||n.g==e)&&bw(n),!cg(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ry(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,hy(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=kw(r,r.J?r.pa:null,r.Y),o.K){My(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(ey(a),Jv(a)),r.g=o}else gw(r);0<n.j.length&&dw(n)}else"stop"!=c[0]&&"close"!=c[0]||Tw(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Tw(n,7):cw(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Iv()}catch(c){}}function iy(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qm(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Qm(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Qm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(qm=zv.prototype).setTimeout=function(e){this.P=e},qm.nb=function(e){e=e.target;const t=this.M;t&&3==rw(e)?t.l():this.Pa(e)},qm.Pa=function(e){try{if(e==this.g)e:{const u=rw(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||yg||this.g&&(this.h.h||this.g.ja()||iw(this.g)))){this.J||4!=u||7==t||Iv(),ey(this);var n=this.g.da();this.ca=n;t:if(Yv(this)){var r=iw(this.g);e="";var i=r.length,s=4==rw(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ny(this),ty(this);var o="";break t}this.h.i=new Gm.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cg(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Av(12),ny(this),ty(this);break e}Sv(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ry(this,n)}this.S?(Xv(this,u,o),yg&&this.i&&3==u&&(wv(this.U,this.V,"tick",this.mb),this.V.start())):(Sv(this.j,this.m,o,null),ry(this,o)),4==u&&ny(this),this.i&&!this.J&&(4==u?Ew(this.l,this):(this.i=!1,Jv(this)))}else(function(e){const t={};e=(e.g&&2<=rw(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(cg(e[r]))continue;var n=sv(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Av(12)):(this.o=0,Av(13)),ny(this),ty(this)}}}catch(u){}},qm.mb=function(){if(this.g){var e=rw(this.g),t=this.g.ja();this.C<t.length&&(ey(this),Xv(this,e,t),this.i&&4!=e&&Jv(this))}},qm.cancel=function(){this.J=!0,ny(this)},qm.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Iv(),Av(17)),ny(this),this.o=2,ty(this)):Zv(this,this.Y-e)};var sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oy(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof oy){this.h=e.h,ly(this,e.j),this.s=e.s,this.g=e.g,cy(this,e.m),this.l=e.l;var t=e.i,n=new Ey;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),uy(this,n),this.o=e.o}else e&&(t=String(e).match(sy))?(this.h=!1,ly(this,t[1]||"",!0),this.s=fy(t[2]||""),this.g=fy(t[3]||"",!0),cy(this,t[4]),this.l=fy(t[5]||"",!0),uy(this,t[6]||"",!0),this.o=fy(t[7]||"")):(this.h=!1,this.i=new Ey(null,this.h))}function ay(e){return new oy(e)}function ly(e,t,n){e.j=n?fy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function cy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function uy(e,t,n){t instanceof Ey?(e.i=t,function(e,t){t&&!e.j&&(Sy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ty(this,t),ky(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=py(t,wy)),e.i=new Ey(t,e.h))}function hy(e,t,n){e.i.set(t,n)}function dy(e){return hy(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function py(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,my),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function my(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}oy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(py(t,gy,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(py(t,gy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(py(n,"/"==n.charAt(0)?yy:vy,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",py(n,by)),e.join("")};var gy=/[#\/\?@]/g,vy=/[#\?:]/g,yy=/[#\?]/g,wy=/[#\?@]/g,by=/#/g;function Ey(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sy(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ty(e,t){Sy(e),t=Cy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xy(e,t){return Sy(e),t=Cy(e,t),e.g.has(t)}function ky(e,t,n){Ty(e,t),0<n.length&&(e.i=null,e.g.set(Cy(e,t),sg(n)),e.h+=n.length)}function Cy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qm=Ey.prototype).add=function(e,t){Sy(this),this.i=null,e=Cy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qm.forEach=function(e,t){Sy(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},qm.ta=function(){Sy(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},qm.Z=function(e){Sy(this);let t=[];if("string"===typeof e)xy(this,e)&&(t=t.concat(this.g.get(Cy(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},qm.set=function(e,t){return Sy(this),this.i=null,xy(this,e=Cy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qm.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},qm.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Iy=class{constructor(e,t){this.g=e,this.map=t}};function _y(e){this.l=e||Ay,Gm.PerformanceNavigationTiming?e=0<(e=Gm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Gm.g&&Gm.g.Ka&&Gm.g.Ka()&&Gm.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ay=10;function Py(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ny(e){return e.h?1:e.g?e.g.size:0}function Dy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ry(e,t){e.g?e.g.add(t):e.h=t}function My(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Oy(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return sg(e.i)}_y.prototype.cancel=function(){if(this.i=Oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ly,Fy=class{stringify(e){return Gm.JSON.stringify(e,void 0)}parse(e){return Gm.JSON.parse(e,void 0)}};function jy(){this.g=new Fy}function Vy(e,t,n){const r=n||"";try{iy(e,(function(e,n){let i=e;Ym(e)&&(i=tv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(wA){throw t.push(r+"type="+encodeURIComponent("_badmap")),wA}}function Uy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function By(e){this.l=e.fc||null,this.j=e.ob||!1}function zy(e,t){Jg.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ng(By,Mv),By.prototype.g=function(){return new zy(this.l,this.j)},By.prototype.i=(Ly={},function(){return Ly}),ng(zy,Jg);var qy=0;function Hy(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Wy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ky(e)}function Ky(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qm=zy.prototype).open=function(e,t){if(this.readyState!=qy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ky(this)},qm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Gm).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},qm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wy(this)),this.readyState=qy},qm.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ky(this)),this.g&&(this.readyState=3,Ky(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Gm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hy(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},qm.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wy(this):Ky(this),3==this.readyState&&Hy(this)}},qm.Za=function(e){this.g&&(this.response=this.responseText=e,Wy(this))},qm.Ya=function(e){this.g&&(this.response=e,Wy(this))},qm.ka=function(){this.g&&Wy(this)},qm.setRequestHeader=function(e,t){this.v.append(e,t)},qm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qm.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gy=Gm.JSON.parse;function Qy(e){Jg.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yy,this.L=this.M=!1}ng(Qy,Jg);var Yy="",Xy=/^https?$/i,$y=["POST","PUT"];function Jy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zy(e),tw(e)}function Zy(e){e.F||(e.F=!0,Zg(e,"complete"),Zg(e,"error"))}function ew(e){if(e.h&&"undefined"!=typeof Km&&(!e.C[1]||4!=rw(e)||2!=e.da()))if(e.v&&4==rw(e))pv(e.La,0,e);else if(Zg(e,"readystatechange"),4==rw(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(sy)[1]||null;!i&&Gm.self&&Gm.self.location&&(i=Gm.self.location.protocol.slice(0,-1)),r=!Xy.test(i?i.toLowerCase():"")}n=r}if(n)Zg(e,"complete"),Zg(e,"success");else{e.m=6;try{var s=2<rw(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Zy(e)}}finally{tw(e)}}}function tw(e,t){if(e.g){nw(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Zg(e,"ready");try{n.onreadystatechange=r}catch(wA){}}}function nw(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Gm.clearTimeout(e.A),e.A=null)}function rw(e){return e.g?e.g.readyState:0}function iw(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Yy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(cb){return null}}function sw(e){let t="";return Rg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ow(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sw(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hy(e,t,n))}function aw(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lw(e){this.Ga=0,this.j=[],this.l=new Ev,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=aw("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=aw("baseRetryDelayMs",5e3,e),this.hb=aw("retryDelaySeedMs",1e4,e),this.eb=aw("forwardChannelMaxRetries",2,e),this.xa=aw("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _y(e&&e.concurrentRequestLimit),this.Ja=new jy,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cw(e){if(hw(e),3==e.H){var t=e.W++,n=ay(e.I);if(hy(n,"SID",e.K),hy(n,"RID",t),hy(n,"TYPE","terminate"),pw(e,n),(t=new zv(e,e.l,t)).L=2,t.v=dy(ay(n)),n=!1,Gm.navigator&&Gm.navigator.sendBeacon)try{n=Gm.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Gm.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cw(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Jv(t)}xw(e)}function uw(e){e.g&&(yw(e),e.g.cancel(),e.g=null)}function hw(e){uw(e),e.u&&(Gm.clearTimeout(e.u),e.u=null),bw(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Gm.clearTimeout(e.m),e.m=null)}function dw(e){if(!Py(e.i)&&!e.m){e.m=!0;var t=e.Na;av||uv(),lv||(av(),lv=!0),cv.add(t,e),e.C=0}}function fw(e,t){var n;n=t?t.m:e.W++;const r=ay(e.I);hy(r,"SID",e.K),hy(r,"RID",n),hy(r,"AID",e.V),pw(e,r),e.o&&e.s&&ow(r,e.o,e.s),n=new zv(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=mw(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ry(e.i,n),Gv(n,r,t)}function pw(e,t){e.na&&Rg(e.na,(function(e,n){hy(t,n,e)})),e.h&&iy({},(function(e,n){hy(t,n,e)}))}function mw(e,t,n){n=Math.min(e.j.length,n);var r=e.h?eg(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Vy(a,e,"req"+n+"_")}catch(bb){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function gw(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;av||uv(),lv||(av(),lv=!0),cv.add(t,e),e.A=0}}function vw(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Nv(eg(e.Ma,e),Sw(e,e.A)),e.A++,!0)}function yw(e){null!=e.B&&(Gm.clearTimeout(e.B),e.B=null)}function ww(e){e.g=new zv(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ay(e.wa);hy(t,"RID","rpc"),hy(t,"SID",e.K),hy(t,"AID",e.V),hy(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&hy(t,"TO",e.qa),hy(t,"TYPE","xmlhttp"),pw(e,t),e.o&&e.s&&ow(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=dy(ay(t)),n.s=null,n.S=!0,Qv(n,e)}function bw(e){null!=e.v&&(Gm.clearTimeout(e.v),e.v=null)}function Ew(e,t){var n=null;if(e.g==t){bw(e),yw(e),e.g=null;var r=2}else{if(!Dy(e.i,t))return;n=t.F,My(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Zg(r=kv(),new Pv(r,n)),dw(e)}else gw(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ny(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Nv(eg(e.Na,e,t),Sw(e,e.C)),e.C++,!0))}(e,t)||2==r&&vw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Tw(e,5);break;case 4:Tw(e,10);break;case 3:Tw(e,6);break;default:Tw(e,2)}}function Sw(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Tw(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=eg(e.pb,e);n||(n=new oy("//www.google.com/images/cleardot.gif"),Gm.location&&"http"==Gm.location.protocol||ly(n,"https"),dy(n)),function(e,t){const n=new Ev;if(Gm.Image){const r=new Image;r.onload=tg(Uy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=tg(Uy,n,r,"TestLoadImage: error",!1,t),r.onabort=tg(Uy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=tg(Uy,n,r,"TestLoadImage: timeout",!1,t),Gm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Av(2);e.H=0,e.h&&e.h.za(t),xw(e),hw(e)}function xw(e){if(e.H=0,e.ma=[],e.h){const t=Oy(e.i);0==t.length&&0==e.j.length||(og(e.ma,t),og(e.ma,e.j),e.i.i.length=0,sg(e.j),e.j.length=0),e.h.ya()}}function kw(e,t,n){var r=n instanceof oy?ay(n):new oy(n);if(""!=r.g)t&&(r.g=t+"."+r.g),cy(r,r.m);else{var i=Gm.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new oy(null);r&&ly(s,r),t&&(s.g=t),i&&cy(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&hy(r,n,t),hy(r,"VER",e.ra),pw(e,r),r}function Cw(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Qy(new By({ob:!0})):new Qy(e.va)).Oa(e.J),t}function Iw(){}function _w(){if(gg&&!(10<=Number(Cg)))throw Error("Environmental error: no available transport.")}function Aw(e,t){Jg.call(this),this.g=new lw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!cg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!cg(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Dw(this)}function Pw(e){Vv.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nw(){Uv.call(this),this.status=1}function Dw(e){this.g=e}function Rw(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Mw(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Ow(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(qm=Qy.prototype).Oa=function(e){this.M=e},qm.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fv.g(),this.C=this.u?Ov(this.u):Ov(Fv),this.g.onreadystatechange=eg(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Jy(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Gm.FormData&&e instanceof Gm.FormData,!(0<=ig($y,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nw(this),0<this.B&&((this.L=function(e){return gg&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=eg(this.ua,this)):this.A=pv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Jy(this,s)}},qm.ua=function(){"undefined"!=typeof Km&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zg(this,"timeout"),this.abort(8))},qm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zg(this,"complete"),Zg(this,"abort"),tw(this))},qm.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tw(this,!0)),Qy.$.N.call(this)},qm.La=function(){this.s||(this.G||this.v||this.l?ew(this):this.kb())},qm.kb=function(){ew(this)},qm.isActive=function(){return!!this.g},qm.da=function(){try{return 2<rw(this)?this.g.status:-1}catch(Ly){return-1}},qm.ja=function(){try{return this.g?this.g.responseText:""}catch(Ly){return""}},qm.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gy(t)}},qm.Ia=function(){return this.m},qm.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(qm=lw.prototype).ra=8,qm.H=1,qm.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new zv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Mg(s),Lg(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=mw(this,i,t),hy(n=ay(this.I),"RID",e),hy(n,"CVER",22),this.F&&hy(n,"X-HTTP-Session-Id",this.F),pw(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(sw(s)))+"&"+t:this.o&&ow(n,this.o,s)),Ry(this.i,i),this.bb&&hy(n,"TYPE","init"),this.P?(hy(n,"$req",t),hy(n,"SID","null"),i.aa=!0,Gv(i,n,null)):Gv(i,n,t),this.H=2}}else 3==this.H&&(e?fw(this,e):0==this.j.length||Py(this.i)||fw(this))},qm.Ma=function(){if(this.u=null,ww(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Nv(eg(this.jb,this),e)}},qm.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Av(10),uw(this),ww(this))},qm.ib=function(){null!=this.v&&(this.v=null,uw(this),vw(this),Av(19))},qm.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Av(2)):(this.l.info("Failed to ping google.com"),Av(1))},qm.isActive=function(){return!!this.h&&this.h.isActive(this)},(qm=Iw.prototype).Ba=function(){},qm.Aa=function(){},qm.za=function(){},qm.ya=function(){},qm.isActive=function(){return!0},qm.Va=function(){},_w.prototype.g=function(e,t){return new Aw(e,t)},ng(Aw,Jg),Aw.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Av(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=kw(e,null,e.Y),dw(e)},Aw.prototype.close=function(){cw(this.g)},Aw.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=tv(e),e=n);t.j.push(new Iy(t.fb++,e)),3==t.H&&dw(t)},Aw.prototype.N=function(){this.g.h=null,delete this.j,cw(this.g),delete this.g,Aw.$.N.call(this)},ng(Pw,Vv),ng(Nw,Uv),ng(Dw,Iw),Dw.prototype.Ba=function(){Zg(this.g,"a")},Dw.prototype.Aa=function(e){Zg(this.g,new Pw(e))},Dw.prototype.za=function(e){Zg(this.g,new Nw)},Dw.prototype.ya=function(){Zg(this.g,"b")},ng(Rw,(function(){this.blockSize=-1})),Rw.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rw.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Mw(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Mw(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Mw(this,r),i=0;break}}this.h=i,this.i+=t},Rw.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Lw={};function Fw(e){return-128<=e&&128>e?function(e,t){var n=Lw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ow([0|e],0>e?-1:0)})):new Ow([0|e],0>e?-1:0)}function jw(e){if(isNaN(e)||!isFinite(e))return Uw;if(0>e)return Ww(jw(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Vw;return new Ow(t,0)}var Vw=4294967296,Uw=Fw(0),Bw=Fw(1),zw=Fw(16777216);function qw(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Hw(e){return-1==e.h}function Ww(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ow(n,~e.h).add(Bw)}function Kw(e,t){return e.add(Ww(t))}function Gw(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qw(e,t){this.g=e,this.h=t}function Yw(e,t){if(qw(t))throw Error("division by zero");if(qw(e))return new Qw(Uw,Uw);if(Hw(e))return t=Yw(Ww(e),t),new Qw(Ww(t.g),Ww(t.h));if(Hw(t))return t=Yw(e,Ww(t)),new Qw(Ww(t.g),t.h);if(30<e.g.length){if(Hw(e)||Hw(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Bw,r=t;0>=r.X(e);)n=Xw(n),r=Xw(r);var i=$w(n,1),s=$w(r,1);for(r=$w(r,2),n=$w(n,2);!qw(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=$w(r,1),n=$w(n,1)}return t=Kw(e,i.R(t)),new Qw(i,t)}for(i=Uw;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=jw(n)).R(t);Hw(o)||0<o.X(e);)o=(s=jw(n-=r)).R(t);qw(s)&&(s=Bw),i=i.add(s),e=Kw(e,o)}return new Qw(i,e)}function Xw(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ow(n,e.h)}function $w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ow(i,e.h)}(qm=Ow.prototype).ea=function(){if(Hw(this))return-Ww(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Vw+r)*t,t*=Vw}return e},qm.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(qw(this))return"0";if(Hw(this))return"-"+Ww(this).toString(e);for(var t=jw(Math.pow(e,6)),n=this,r="";;){var i=Yw(n,t).g,s=((0<(n=Kw(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(qw(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},qm.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},qm.X=function(e){return Hw(e=Kw(this,e))?-1:qw(e)?0:1},qm.abs=function(){return Hw(this)?Ww(this):this},qm.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ow(n,-2147483648&n[n.length-1]?-1:0)},qm.R=function(e){if(qw(this)||qw(e))return Uw;if(Hw(this))return Hw(e)?Ww(this).R(Ww(e)):Ww(Ww(this).R(e));if(Hw(e))return Ww(this.R(Ww(e)));if(0>this.X(zw)&&0>e.X(zw))return jw(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Gw(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Gw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Gw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Gw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ow(n,0)},qm.gb=function(e){return Yw(this,e).h},qm.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ow(n,this.h&e.h)},qm.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ow(n,this.h|e.h)},qm.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ow(n,this.h^e.h)},_w.prototype.createWebChannel=_w.prototype.g,Aw.prototype.send=Aw.prototype.u,Aw.prototype.open=Aw.prototype.m,Aw.prototype.close=Aw.prototype.close,Dv.NO_ERROR=0,Dv.TIMEOUT=8,Dv.HTTP_ERROR=6,Rv.COMPLETE="complete",Lv.EventType=jv,jv.OPEN="a",jv.CLOSE="b",jv.ERROR="c",jv.MESSAGE="d",Jg.prototype.listen=Jg.prototype.O,Qy.prototype.listenOnce=Qy.prototype.P,Qy.prototype.getLastError=Qy.prototype.Sa,Qy.prototype.getLastErrorCode=Qy.prototype.Ia,Qy.prototype.getStatus=Qy.prototype.da,Qy.prototype.getResponseJson=Qy.prototype.Wa,Qy.prototype.getResponseText=Qy.prototype.ja,Qy.prototype.send=Qy.prototype.ha,Qy.prototype.setWithCredentials=Qy.prototype.Oa,Rw.prototype.digest=Rw.prototype.l,Rw.prototype.reset=Rw.prototype.reset,Rw.prototype.update=Rw.prototype.j,Ow.prototype.add=Ow.prototype.add,Ow.prototype.multiply=Ow.prototype.R,Ow.prototype.modulo=Ow.prototype.gb,Ow.prototype.compare=Ow.prototype.X,Ow.prototype.toNumber=Ow.prototype.ea,Ow.prototype.toString=Ow.prototype.toString,Ow.prototype.getBits=Ow.prototype.D,Ow.fromNumber=jw,Ow.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ww(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=jw(Math.pow(n,8)),i=Uw,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=jw(Math.pow(n,o)),i=i.R(o).add(jw(a))):i=(i=i.R(r)).add(jw(a))}return i};var Jw=Wm.createWebChannelTransport=function(){return new _w},Zw=Wm.getStatEventTarget=function(){return kv()},eb=Wm.ErrorCode=Dv,tb=Wm.EventType=Rv,nb=Wm.Event=Tv,rb=Wm.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ib=Wm.FetchXmlHttpFactory=By,sb=Wm.WebChannel=Lv,ob=Wm.XhrIo=Qy,ab=Wm.Md5=Rw,lb=Wm.Integer=Ow;const cb="@firebase/firestore";class ub{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ub.UNAUTHENTICATED=new ub(null),ub.GOOGLE_CREDENTIALS=new ub("google-credentials-uid"),ub.FIRST_PARTY=new ub("first-party-uid"),ub.MOCK_USER=new ub("mock-user");let hb="9.23.0";const db=new Uc("@firebase/firestore");function fb(){return db.logLevel}function pb(e){if(db.logLevel<=Oc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vb);db.debug("Firestore (".concat(hb,"): ").concat(e),...i)}}function mb(e){if(db.logLevel<=Oc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vb);db.error("Firestore (".concat(hb,"): ").concat(e),...i)}}function gb(e){if(db.logLevel<=Oc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vb);db.warn("Firestore (".concat(hb,"): ").concat(e),...i)}}function vb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(hb,") INTERNAL ASSERTION FAILED: ")+e;throw mb(t),new Error(t)}function wb(e,t){e||yb()}function bb(e,t){return e}const Eb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sb extends yc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Tb{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class xb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class kb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ub.UNAUTHENTICATED)))}shutdown(){}}class Cb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ib{constructor(e){this.t=e,this.currentUser=ub.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Tb;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Tb,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{pb("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(pb("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Tb)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(pb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wb("string"==typeof t.accessToken),new xb(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wb(null===e||"string"==typeof e),new ub(e)}}class _b{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ub.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ab{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new _b(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(ub.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&pb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,pb("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{pb("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):pb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(wb("string"==typeof e.token),this.T=e.token,new Pb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Db(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Rb{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Db(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Mb(e,t){return e<t?-1:e>t?1:0}function Ob(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Lb{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sb(Eb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sb(Eb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Sb(Eb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sb(Eb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lb.fromMillis(Date.now())}static fromDate(e){return Lb.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Lb(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mb(this.nanoseconds,e.nanoseconds):Mb(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fb{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fb(e)}static min(){return new Fb(new Lb(0,0))}static max(){return new Fb(new Lb(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jb{constructor(e,t,n){void 0===t?t=0:t>e.length&&yb(),void 0===n?n=e.length-t:n>e.length-t&&yb(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===jb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jb?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vb extends jb{construct(e,t,n){return new Vb(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Vb(e)}static emptyPath(){return new Vb([])}}const Ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bb extends jb{construct(e,t,n){return new Bb(e,t,n)}static isValidIdentifier(e){return Ub.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bb.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bb(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Sb(Eb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Sb(Eb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Sb(Eb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bb(t)}static emptyPath(){return new Bb([])}}class zb{constructor(e){this.path=e}static fromPath(e){return new zb(Vb.fromString(e))}static fromName(e){return new zb(Vb.fromString(e).popFirst(5))}static empty(){return new zb(Vb.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vb.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vb.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zb(new Vb(e.slice()))}}class qb{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}qb.UNKNOWN_ID=-1;function Hb(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Fb.fromTimestamp(1e9===r?new Lb(n+1,0):new Lb(n,r));return new Kb(i,zb.empty(),t)}function Wb(e){return new Kb(e.readTime,e.key,-1)}class Kb{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Kb(Fb.min(),zb.empty(),-1)}static max(){return new Kb(Fb.max(),zb.empty(),-1)}}function Gb(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zb.comparator(e.documentKey,t.documentKey),0!==n?n:Mb(e.largestBatchId,t.largestBatchId))}const Qb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xb(e){if(e.code!==Eb.FAILED_PRECONDITION||e.message!==Qb)throw e;pb("LocalStore","Unexpectedly lost primary lease")}class $b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $b(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $b?t:$b.resolve(t)}catch(e){return $b.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$b.reject(t)}static resolve(e){return new $b(((t,n)=>{t(e)}))}static reject(e){return new $b(((t,n)=>{n(e)}))}static waitFor(e){return new $b(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=$b.resolve(!1);for(const n of e)t=t.next((e=>e?$b.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $b(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new $b(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Jb(e){return"IndexedDbTransactionError"===e.name}class Zb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function eE(e){return null==e}function tE(e){return 0===e&&1/e==-1/0}function nE(e){return"number"==typeof e&&Number.isInteger(e)&&!tE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Zb.ct=-1;const rE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sE=iE;function oE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function aE(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class cE{constructor(e,t){this.comparator=e,this.root=t||hE.EMPTY}insert(e,t){return new cE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hE.BLACK,null,null))}remove(e){return new cE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hE.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uE(this.root,e,this.comparator,!1)}getReverseIterator(){return new uE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uE(this.root,e,this.comparator,!0)}}class uE{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hE{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hE.RED,this.left=null!=r?r:hE.EMPTY,this.right=null!=i?i:hE.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new hE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hE.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return hE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yb();if(this.right.isRed())throw yb();const e=this.left.check();if(e!==this.right.check())throw yb();return e+(this.isRed()?0:1)}}hE.EMPTY=null,hE.RED=!0,hE.BLACK=!1,hE.EMPTY=new class{constructor(){this.size=0}get key(){throw yb()}get value(){throw yb()}get color(){throw yb()}get left(){throw yb()}get right(){throw yb()}copy(e,t,n,r,i){return this}insert(e,t,n){return new hE(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dE{constructor(e){this.comparator=e,this.data=new cE(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof dE))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dE(this.comparator);return t.data=e,t}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pE{constructor(e){this.fields=e,e.sort(Bb.comparator)}static empty(){return new pE([])}unionWith(e){let t=new dE(Bb.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pE(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ob(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gE{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new mE("Invalid base64 string: "+e):e}}(e);return new gE(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gE(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mb(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gE.EMPTY_BYTE_STRING=new gE("");const vE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yE(e){if(wb(!!e),"string"==typeof e){let t=0;const n=vE.exec(e);if(wb(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wE(e.seconds),nanos:wE(e.nanos)}}function wE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bE(e){return"string"==typeof e?gE.fromBase64String(e):gE.fromUint8Array(e)}function EE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function SE(e){const t=e.mapValue.fields.__previous_value__;return EE(t)?SE(t):t}function TE(e){const t=yE(e.mapValue.fields.__local_write_time__.timestampValue);return new Lb(t.seconds,t.nanos)}class xE{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class kE{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kE("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kE&&e.projectId===this.projectId&&e.database===this.database}}const CE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function IE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?EE(e)?4:BE(e)?9007199254740991:10:yb()}function _E(e,t){if(e===t)return!0;const n=IE(e);if(n!==IE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return TE(e).isEqual(TE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=yE(e.timestampValue),r=yE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bE(e.bytesValue).isEqual(bE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wE(e.geoPointValue.latitude)===wE(t.geoPointValue.latitude)&&wE(e.geoPointValue.longitude)===wE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wE(e.integerValue)===wE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wE(e.doubleValue),r=wE(t.doubleValue);return n===r?tE(n)===tE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ob(e.arrayValue.values||[],t.arrayValue.values||[],_E);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oE(n)!==oE(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_E(n[i],r[i])))return!1;return!0}(e,t);default:return yb()}}function AE(e,t){return void 0!==(e.values||[]).find((e=>_E(e,t)))}function PE(e,t){if(e===t)return 0;const n=IE(e),r=IE(t);if(n!==r)return Mb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mb(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wE(e.integerValue||e.doubleValue),r=wE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return NE(e.timestampValue,t.timestampValue);case 4:return NE(TE(e),TE(t));case 5:return Mb(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bE(e),r=bE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Mb(n[i],r[i]);if(0!==e)return e}return Mb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Mb(wE(e.latitude),wE(t.latitude));return 0!==n?n:Mb(wE(e.longitude),wE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=PE(n[i],r[i]);if(e)return e}return Mb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===CE.mapValue&&t===CE.mapValue)return 0;if(e===CE.mapValue)return 1;if(t===CE.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Mb(r[o],s[o]);if(0!==e)return e;const t=PE(n[r[o]],i[s[o]]);if(0!==t)return t}return Mb(r.length,s.length)}(e.mapValue,t.mapValue);default:throw yb()}}function NE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mb(e,t);const n=yE(e),r=yE(t),i=Mb(n.seconds,r.seconds);return 0!==i?i:Mb(n.nanos,r.nanos)}function DE(e){return RE(e)}function RE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=yE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=RE(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(RE(e.fields[i]));return n+"}"}(e.mapValue):yb();var t,n}function ME(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function OE(e){return!!e&&"integerValue"in e}function LE(e){return!!e&&"arrayValue"in e}function FE(e){return!!e&&"nullValue"in e}function jE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function VE(e){return!!e&&"mapValue"in e}function UE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return aE(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=UE(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=UE(e.arrayValue.values[n]);return t}return Object.assign({},e)}function BE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class zE{constructor(e){this.value=e}static empty(){return new zE({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!VE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=UE(t)}setAll(e){let t=Bb.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=UE(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());VE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _E(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];VE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){aE(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new zE(UE(this.value))}}function qE(e){const t=[];return aE(e.fields,((e,n)=>{const r=new Bb([e]);if(VE(n)){const e=qE(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new pE(t)}class HE{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new HE(e,0,Fb.min(),Fb.min(),Fb.min(),zE.empty(),0)}static newFoundDocument(e,t,n,r){return new HE(e,1,t,Fb.min(),n,r,0)}static newNoDocument(e,t){return new HE(e,2,t,Fb.min(),Fb.min(),zE.empty(),0)}static newUnknownDocument(e,t){return new HE(e,3,t,Fb.min(),Fb.min(),zE.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zE.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zE.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fb.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof HE&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new HE(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class WE{constructor(e,t){this.position=e,this.inclusive=t}}function KE(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?zb.comparator(zb.fromName(o.referenceValue),n.key):PE(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function GE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_E(e.position[n],t.position[n]))return!1;return!0}class QE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function YE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class XE{}class $E extends XE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new sS(e,t,n):"array-contains"===t?new cS(e,n):"in"===t?new uS(e,n):"not-in"===t?new hS(e,n):"array-contains-any"===t?new dS(e,n):new $E(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new oS(e,n):new aS(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(PE(t,this.value)):null!==t&&IE(this.value)===IE(t)&&this.matchesComparison(PE(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yb()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class JE extends XE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new JE(e,t)}matches(e){return ZE(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ZE(e){return"and"===e.op}function eS(e){return tS(e)&&ZE(e)}function tS(e){for(const t of e.filters)if(t instanceof JE)return!1;return!0}function nS(e){if(e instanceof $E)return e.field.canonicalString()+e.op.toString()+DE(e.value);if(eS(e))return e.filters.map((e=>nS(e))).join(",");{const t=e.filters.map((e=>nS(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function rS(e,t){return e instanceof $E?function(e,t){return t instanceof $E&&e.op===t.op&&e.field.isEqual(t.field)&&_E(e.value,t.value)}(e,t):e instanceof JE?function(e,t){return t instanceof JE&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rS(n,t.filters[r])),!0)}(e,t):void yb()}function iS(e){return e instanceof $E?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(DE(e.value))}(e):e instanceof JE?function(e){return e.op.toString()+" {"+e.getFilters().map(iS).join(" ,")+"}"}(e):"Filter"}class sS extends $E{constructor(e,t,n){super(e,t,n),this.key=zb.fromName(n.referenceValue)}matches(e){const t=zb.comparator(e.key,this.key);return this.matchesComparison(t)}}class oS extends $E{constructor(e,t){super(e,"in",t),this.keys=lS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aS extends $E{constructor(e,t){super(e,"not-in",t),this.keys=lS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lS(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zb.fromName(e.referenceValue)))}class cS extends $E{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return LE(t)&&AE(t.arrayValue,this.value)}}class uS extends $E{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&AE(this.value.arrayValue,t)}}class hS extends $E{constructor(e,t){super(e,"not-in",t)}matches(e){if(AE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!AE(this.value.arrayValue,t)}}class dS extends $E{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!LE(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>AE(this.value.arrayValue,e)))}}class fS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function pS(e){return new fS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function mS(e){const t=bb(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nS(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),eE(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>DE(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>DE(e))).join(",")),t.dt=e}return t.dt}function gS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!YE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!GE(e.startAt,t.startAt)&&GE(e.endAt,t.endAt)}function vS(e){return zb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function wS(e,t,n,r,i,s,o,a){return new yS(e,t,n,r,i,s,o,a)}function bS(e){return new yS(e)}function ES(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function SS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function TS(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function xS(e){return null!==e.collectionGroup}function kS(e){const t=bb(e);if(null===t.wt){t.wt=[];const e=TS(t),n=SS(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new QE(e)),t.wt.push(new QE(Bb.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new QE(Bb.keyField(),e))}}}return t.wt}function CS(e){const t=bb(e);if(!t._t)if("F"===t.limitType)t._t=pS(t.path,t.collectionGroup,kS(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of kS(t)){const t="desc"===i.dir?"asc":"desc";e.push(new QE(i.field,t))}const n=t.endAt?new WE(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new WE(t.startAt.position,t.startAt.inclusive):null;t._t=pS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function IS(e,t){t.getFirstInequalityField(),TS(e);const n=e.filters.concat([t]);return new yS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _S(e,t,n){return new yS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function AS(e,t){return gS(CS(e),CS(t))&&e.limitType===t.limitType}function PS(e){return"".concat(mS(CS(e)),"|lt:").concat(e.limitType)}function NS(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>iS(e))).join(", "),"]")),eE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>DE(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>DE(e))).join(",")),"Target(".concat(t,")")}(CS(e)),"; limitType=").concat(e.limitType,")")}function DS(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of kS(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=KE(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,kS(e),t))&&!(e.endAt&&!function(e,t,n){const r=KE(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,kS(e),t))}(e,t)}function RS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function MS(e){return(t,n)=>{let r=!1;for(const i of kS(e)){const e=OS(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function OS(e,t,n){const r=e.field.isKeyField()?zb.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?PE(r,i):yb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yb()}}class LS{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){aE(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}const FS=new cE(zb.comparator);function jS(){return FS}const VS=new cE(zb.comparator);function US(){let e=VS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function BS(e){let t=VS;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zS(){return HS()}function qS(){return HS()}function HS(){return new LS((e=>e.toString()),((e,t)=>e.isEqual(t)))}const WS=new cE(zb.comparator),KS=new dE(zb.comparator);function GS(){let e=KS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const QS=new dE(Mb);function YS(){return QS}function XS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tE(t)?"-0":t}}function $S(e){return{integerValue:""+e}}function JS(e,t){return nE(t)?$S(t):XS(e,t)}class ZS{constructor(){this._=void 0}}function eT(e,t,n){return e instanceof rT?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&EE(t)&&(t=SE(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof iT?sT(e,t):e instanceof oT?aT(e,t):function(e,t){const n=nT(e,t),r=cT(n)+cT(e.gt);return OE(n)&&OE(e.gt)?$S(r):XS(e.serializer,r)}(e,t)}function tT(e,t,n){return e instanceof iT?sT(e,t):e instanceof oT?aT(e,t):n}function nT(e,t){return e instanceof lT?OE(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class rT extends ZS{}class iT extends ZS{constructor(e){super(),this.elements=e}}function sT(e,t){const n=uT(t);for(const r of e.elements)n.some((e=>_E(e,r)))||n.push(r);return{arrayValue:{values:n}}}class oT extends ZS{constructor(e){super(),this.elements=e}}function aT(e,t){let n=uT(t);for(const r of e.elements)n=n.filter((e=>!_E(e,r)));return{arrayValue:{values:n}}}class lT extends ZS{constructor(e,t){super(),this.serializer=e,this.gt=t}}function cT(e){return wE(e.integerValue||e.doubleValue)}function uT(e){return LE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hT{constructor(e,t){this.field=e,this.transform=t}}class dT{constructor(e,t){this.version=e,this.transformResults=t}}class fT{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fT}static exists(e){return new fT(void 0,e)}static updateTime(e){return new fT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mT{}function gT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new CT(e.key,fT.none()):new ET(e.key,e.data,fT.none());{const n=e.data,r=zE.empty();let i=new dE(Bb.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ST(e.key,r,new pE(i.toArray()),fT.none())}}function vT(e,t,n){e instanceof ET?function(e,t,n){const r=e.value.clone(),i=xT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ST?function(e,t,n){if(!pT(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(TT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yT(e,t,n,r){return e instanceof ET?function(e,t,n,r){if(!pT(e.precondition,t))return n;const i=e.value.clone(),s=kT(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ST?function(e,t,n,r){if(!pT(e.precondition,t))return n;const i=kT(e.fieldTransforms,r,t),s=t.data;return s.setAll(TT(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return pT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wT(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=nT(r.transform,e||null);null!=i&&(null===n&&(n=zE.empty()),n.set(r.field,i))}return n||null}function bT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ob(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof iT&&t instanceof iT||e instanceof oT&&t instanceof oT?Ob(e.elements,t.elements,_E):e instanceof lT&&t instanceof lT?_E(e.gt,t.gt):e instanceof rT&&t instanceof rT}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ET extends mT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ST extends mT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function TT(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function xT(e,t,n){const r=new Map;wb(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,tT(o,a,n[i]))}return r}function kT(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,eT(e,s,t))}return r}class CT extends mT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IT extends mT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _T{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&vT(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yT(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yT(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qS();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=gT(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Fb.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),GS())}isEqual(e){return this.batchId===e.batchId&&Ob(this.mutations,e.mutations,((e,t)=>bT(e,t)))&&Ob(this.baseMutations,e.baseMutations,((e,t)=>bT(e,t)))}}class AT{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wb(e.mutations.length===n.length);let r=WS;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new AT(e,t,n,r)}}class PT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class NT{constructor(e,t){this.count=e,this.unchangedNames=t}}var DT,RT;function MT(e){switch(e){default:return yb();case Eb.CANCELLED:case Eb.UNKNOWN:case Eb.DEADLINE_EXCEEDED:case Eb.RESOURCE_EXHAUSTED:case Eb.INTERNAL:case Eb.UNAVAILABLE:case Eb.UNAUTHENTICATED:return!1;case Eb.INVALID_ARGUMENT:case Eb.NOT_FOUND:case Eb.ALREADY_EXISTS:case Eb.PERMISSION_DENIED:case Eb.FAILED_PRECONDITION:case Eb.ABORTED:case Eb.OUT_OF_RANGE:case Eb.UNIMPLEMENTED:case Eb.DATA_LOSS:return!0}}function OT(e){if(void 0===e)return mb("GRPC error has no .code"),Eb.UNKNOWN;switch(e){case DT.OK:return Eb.OK;case DT.CANCELLED:return Eb.CANCELLED;case DT.UNKNOWN:return Eb.UNKNOWN;case DT.DEADLINE_EXCEEDED:return Eb.DEADLINE_EXCEEDED;case DT.RESOURCE_EXHAUSTED:return Eb.RESOURCE_EXHAUSTED;case DT.INTERNAL:return Eb.INTERNAL;case DT.UNAVAILABLE:return Eb.UNAVAILABLE;case DT.UNAUTHENTICATED:return Eb.UNAUTHENTICATED;case DT.INVALID_ARGUMENT:return Eb.INVALID_ARGUMENT;case DT.NOT_FOUND:return Eb.NOT_FOUND;case DT.ALREADY_EXISTS:return Eb.ALREADY_EXISTS;case DT.PERMISSION_DENIED:return Eb.PERMISSION_DENIED;case DT.FAILED_PRECONDITION:return Eb.FAILED_PRECONDITION;case DT.ABORTED:return Eb.ABORTED;case DT.OUT_OF_RANGE:return Eb.OUT_OF_RANGE;case DT.UNIMPLEMENTED:return Eb.UNIMPLEMENTED;case DT.DATA_LOSS:return Eb.DATA_LOSS;default:return yb()}}(RT=DT||(DT={}))[RT.OK=0]="OK",RT[RT.CANCELLED=1]="CANCELLED",RT[RT.UNKNOWN=2]="UNKNOWN",RT[RT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",RT[RT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",RT[RT.NOT_FOUND=5]="NOT_FOUND",RT[RT.ALREADY_EXISTS=6]="ALREADY_EXISTS",RT[RT.PERMISSION_DENIED=7]="PERMISSION_DENIED",RT[RT.UNAUTHENTICATED=16]="UNAUTHENTICATED",RT[RT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",RT[RT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",RT[RT.ABORTED=10]="ABORTED",RT[RT.OUT_OF_RANGE=11]="OUT_OF_RANGE",RT[RT.UNIMPLEMENTED=12]="UNIMPLEMENTED",RT[RT.INTERNAL=13]="INTERNAL",RT[RT.UNAVAILABLE=14]="UNAVAILABLE",RT[RT.DATA_LOSS=15]="DATA_LOSS";class LT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return FT}static getOrCreateInstance(){return null===FT&&(FT=new LT),FT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let FT=null;function jT(){return new TextEncoder}const VT=new lb([4294967295,4294967295],0);function UT(e){const t=jT().encode(e),n=new ab;return n.update(t),new Uint8Array(n.digest())}function BT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new lb([n,r],0),new lb([i,s],0)]}class zT{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qT("Invalid padding: ".concat(t));if(n<0)throw new qT("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new qT("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new qT("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=lb.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(lb.fromNumber(n)));return 1===r.compare(VT)&&(r=new lb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=UT(e),[n,r]=BT(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new zT(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=UT(e),[n,r]=BT(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class HT{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,WT.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new HT(Fb.min(),r,new cE(Mb),jS(),GS())}}class WT{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new WT(n,t,GS(),GS(),GS())}}class KT{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class GT{constructor(e,t){this.targetId=e,this.Vt=t}}class QT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gE.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class YT{constructor(){this.St=0,this.Dt=JT(),this.Ct=gE.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=GS(),t=GS(),n=GS();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yb()}})),new WT(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=JT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class XT{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jS(),this.zt=$T(),this.Wt=new cE(Mb)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:yb()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(vS(s))if(0===r){const e=new zb(s.path);this.Yt(n,e,HE.newNoDocument(e,Fb.min()))}else wb(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=LT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=bE(i).toUint8Array()}catch(e){if(e instanceof mE)return gb("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new zT(a,s,o)}catch(e){return gb(e instanceof qT?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&vS(i.target)){const t=new zb(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,HE.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=GS();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new HT(e,t,this.Wt,this.jt,n);return this.jt=jS(),this.zt=$T(),this.Wt=new cE(Mb),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new YT,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new dE(Mb),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||pb("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YT),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function $T(){return new cE(zb.comparator)}function JT(){return new cE(zb.comparator)}const ZT={asc:"ASCENDING",desc:"DESCENDING"},ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tx={and:"AND",or:"OR"};class nx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rx(e,t){return e.useProto3Json||eE(t)?t:{value:t}}function ix(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ox(e,t){return ix(e,t.toTimestamp())}function ax(e){return wb(!!e),Fb.fromTimestamp(function(e){const t=yE(e);return new Lb(t.seconds,t.nanos)}(e))}function lx(e,t){return function(e){return new Vb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function cx(e){const t=Vb.fromString(e);return wb(Ax(t)),t}function ux(e,t){return lx(e.databaseId,t.path)}function hx(e,t){const n=cx(t);if(n.get(1)!==e.databaseId.projectId)throw new Sb(Eb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sb(Eb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zb(mx(n))}function dx(e,t){return lx(e.databaseId,t)}function fx(e){const t=cx(e);return 4===t.length?Vb.emptyPath():mx(t)}function px(e){return new Vb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mx(e){return wb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gx(e,t,n){return{name:ux(e,t),fields:n.value.mapValue.fields}}function vx(e,t){let n;if(t instanceof ET)n={update:gx(e,t.key,t.value)};else if(t instanceof CT)n={delete:ux(e,t.key)};else if(t instanceof ST)n={update:gx(e,t.key,t.data),updateMask:_x(t.fieldMask)};else{if(!(t instanceof IT))return yb();n={verify:ux(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof rT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof oT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lT)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw yb()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ox(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yb()}(e,t.precondition)),n}function yx(e,t){return{documents:[dx(e,t.path)]}}function wx(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Ix(JE.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kx(e.field),direction:Sx(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=rx(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function bx(e){let t=fx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wb(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ex(e);return t instanceof JE&&eS(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new QE(Cx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,eE(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new WE(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new WE(n,t)}(n.endAt)),wS(t,i,o,s,a,"F",l,c)}function Ex(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cx(e.unaryFilter.field);return $E.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Cx(e.unaryFilter.field);return $E.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cx(e.unaryFilter.field);return $E.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Cx(e.unaryFilter.field);return $E.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yb()}}(e):void 0!==e.fieldFilter?function(e){return $E.create(Cx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yb()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return JE.create(e.compositeFilter.filters.map((e=>Ex(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yb()}}(e.compositeFilter.op))}(e):yb()}function Sx(e){return ZT[e]}function Tx(e){return ex[e]}function xx(e){return tx[e]}function kx(e){return{fieldPath:e.canonicalString()}}function Cx(e){return Bb.fromServerFormat(e.fieldPath)}function Ix(e){return e instanceof $E?function(e){if("=="===e.op){if(jE(e.value))return{unaryFilter:{field:kx(e.field),op:"IS_NAN"}};if(FE(e.value))return{unaryFilter:{field:kx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jE(e.value))return{unaryFilter:{field:kx(e.field),op:"IS_NOT_NAN"}};if(FE(e.value))return{unaryFilter:{field:kx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kx(e.field),op:Tx(e.op),value:e.value}}}(e):e instanceof JE?function(e){const t=e.getFilters().map((e=>Ix(e)));return 1===t.length?t[0]:{compositeFilter:{op:xx(e.op),filters:t}}}(e):yb()}function _x(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ax(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Px{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fb.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fb.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gE.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Px(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Px(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Px(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Px(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nx{constructor(e){this.fe=e}}function Dx(e){const t=bx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_S(t,t.limit,"L"):t}class Rx{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wE(e.integerValue));else if("doubleValue"in e){const n=wE(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),tE(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(bE(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?BE(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):yb()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),zb.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Rx.Ve=new Rx;class Mx{constructor(){this.rn=new Ox}addToCollectionParentIndex(e,t){return this.rn.add(t),$b.resolve()}getCollectionParents(e,t){return $b.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return $b.resolve()}deleteFieldIndex(e,t){return $b.resolve()}getDocumentsMatchingTarget(e,t){return $b.resolve(null)}getIndexType(e,t){return $b.resolve(0)}getFieldIndexes(e,t){return $b.resolve([])}getNextCollectionGroupToUpdate(e){return $b.resolve(null)}getMinOffset(e,t){return $b.resolve(Kb.min())}getMinOffsetFromCollectionGroup(e,t){return $b.resolve(Kb.min())}updateCollectionGroup(e,t,n){return $b.resolve()}updateIndexEntries(e,t){return $b.resolve()}}class Ox{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dE(Vb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new dE(Vb.comparator)).toArray()}}new Uint8Array(0);class Lx{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Lx(e,Lx.DEFAULT_COLLECTION_PERCENTILE,Lx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lx.DEFAULT_COLLECTION_PERCENTILE=10,Lx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lx.DEFAULT=new Lx(41943040,Lx.DEFAULT_COLLECTION_PERCENTILE,Lx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lx.DISABLED=new Lx(-1,0,0);class Fx{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fx(0)}static Mn(){return new Fx(-1)}}class jx{constructor(){this.changes=new LS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,HE.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$b.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ux{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&yT(n.mutation,e,pE.empty(),Lb.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,GS()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:GS();const r=zS();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=US();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zS();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,GS())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=jS();const s=HS(),o=HS();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ST)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),yT(o.mutation,t,o.mutation.getFieldMask(),Lb.now())):s.set(t.key,pE.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Vx(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=HS();let r=new cE(((e,t)=>e-t)),i=GS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||pE.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||GS()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=qS();l.forEach((e=>{if(!i.has(e)){const r=gT(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return $b.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return zb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$b.resolve(zS());let o=-1,a=i;return s.next((t=>$b.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?$b.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,GS()))).next((e=>({batchId:o,changes:BS(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zb(t)).next((e=>{let t=US();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=US();return this.indexManager.getCollectionParents(e,r).next((s=>$b.forEach(s,(s=>{const o=function(e,t){return new yS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,HE.newInvalidDocument(r)))}));let n=US();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&yT(s.mutation,i,pE.empty(),Lb.now()),DS(t,i)&&(n=n.insert(e,i))})),n}))}}class Bx{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return $b.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ax(n.createTime)}),$b.resolve()}getNamedQuery(e,t){return $b.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Dx(e.bundledQuery),readTime:ax(e.readTime)}}(t)),$b.resolve()}}class zx{constructor(){this.overlays=new cE(zb.comparator),this.ls=new Map}getOverlay(e,t){return $b.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zS();return $b.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),$b.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),$b.resolve()}getOverlaysForCollection(e,t,n){const r=zS(),i=t.length+1,s=new zb(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $b.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new cE(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=zS(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return $b.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new PT(t,n));let i=this.ls.get(t);void 0===i&&(i=GS(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class qx{constructor(){this.fs=new dE(Hx.ds),this.ws=new dE(Hx._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Hx(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Hx(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new zb(new Vb([])),n=new Hx(t,e),r=new Hx(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new zb(new Vb([])),n=new Hx(t,e),r=new Hx(t,e+1);let i=GS();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Hx(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hx{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return zb.comparator(e.key,t.key)||Mb(e.As,t.As)}static _s(e,t){return Mb(e.As,t.As)||zb.comparator(e.key,t.key)}}class Wx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new dE(Hx.ds)}checkEmpty(e){return $b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new _T(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new Hx(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $b.resolve(s)}lookupMutationBatch(e,t){return $b.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return $b.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $b.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return $b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hx(t,0),r=new Hx(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),$b.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dE(Mb);return t.forEach((e=>{const t=new Hx(e,0),r=new Hx(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),$b.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;zb.isDocumentKey(i)||(i=i.child(""));const s=new Hx(new zb(i),0);let o=new dE(Mb);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),$b.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){wb(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return $b.forEach(t.mutations,(r=>{const i=new Hx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Hx(t,0),r=this.Rs.firstAfterOrEqual(n);return $b.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$b.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kx{constructor(e){this.Ds=e,this.docs=new cE(zb.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $b.resolve(n?n.document.mutableCopy():HE.newInvalidDocument(t))}getEntries(e,t){let n=jS();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():HE.newInvalidDocument(e))})),$b.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=jS();const s=t.path,o=new zb(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Gb(Wb(o),n)<=0||(r.has(o.key)||DS(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return $b.resolve(i)}getAllFromCollectionGroup(e,t,n,r){yb()}Cs(e,t){return $b.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Gx(this)}getSize(e){return $b.resolve(this.size)}}class Gx extends jx{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),$b.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Qx{constructor(e){this.persistence=e,this.xs=new LS((e=>mS(e)),gS),this.lastRemoteSnapshotVersion=Fb.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qx,this.targetCount=0,this.Ms=Fx.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),$b.resolve()}getLastRemoteSnapshotVersion(e){return $b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),$b.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Fx(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,$b.resolve()}updateTargetData(e,t){return this.Fn(t),$b.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,$b.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),$b.waitFor(i).next((()=>r))}getTargetCount(e){return $b.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return $b.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),$b.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$b.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),$b.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return $b.resolve(n)}containsKey(e,t){return $b.resolve(this.ks.containsKey(t))}}class Yx{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zb(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Qx(this),this.indexManager=new Mx,this.remoteDocumentCache=function(e){return new Kx(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Nx(t),this.qs=new Bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Wx(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){pb("MemoryPersistence","Starting transaction:",e);const r=new Xx(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return $b.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Xx extends Yb{constructor(e){super(),this.currentSequenceNumber=e}}class $x{constructor(e){this.persistence=e,this.Qs=new qx,this.js=null}static zs(e){return new $x(e)}get Ws(){if(this.js)return this.js;throw yb()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),$b.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),$b.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),$b.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $b.forEach(this.Ws,(n=>{const r=zb.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Fb.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return $b.or([()=>$b.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Jx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=GS(),r=GS();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Jx(e,t.fromCache,n,r)}}class Zx{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(ES(t))return $b.resolve(null);let n=CS(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=_S(t,null,"F"),n=CS(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=GS(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,_S(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return ES(t)||r.isEqual(Fb.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(fb()<=Oc.DEBUG&&pb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),NS(t)),this.Wi(e,s,t,Hb(r,-1)))}))}ji(e,t){let n=new dE(MS(e));return t.forEach(((t,r)=>{DS(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return fb()<=Oc.DEBUG&&pb("QueryEngine","Using full collection scan to execute query:",NS(t)),this.Ui.getDocumentsMatchingQuery(e,t,Kb.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class ek{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new cE(Mb),this.Yi=new LS((e=>mS(e)),gS),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function tk(e,t,n,r){return new ek(e,t,n,r)}async function nk(e,t){const n=bb(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=GS();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function rk(e){const t=bb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function ik(e,t,n){let r=GS(),i=GS();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=jS();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Fb.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):pb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function sk(e,t){const n=bb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ok(e,t){const n=bb(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,$b.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Px(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function ak(e,t,n){const r=bb(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Jb(e))throw e;pb("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function lk(e,t,n){const r=bb(e);let i=Fb.min(),s=GS();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=bb(e),i=r.Yi.get(n);return void 0!==i?$b.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,CS(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Fb.min(),n?s:GS()))).next((e=>(ck(r,RS(t),e),{documents:e,ir:s})))))}function ck(e,t,n){let r=e.Xi.get(t)||Fb.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class uk{constructor(){this.activeTargetIds=YS()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hk{constructor(){this.Hr=new uk,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uk,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dk{Yr(e){}shutdown(){}}class fk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){pb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){pb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pk=null;function mk(){return null===pk?pk=268435456+Math.round(2147483648*Math.random()):pk++,"0x"+pk.toString(16)}const gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vk{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yk="WebChannelConnection";class wk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=mk(),o=this.To(e,t);pb("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(pb("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw gb("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=gk[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=mk();return new Promise(((s,o)=>{const a=new ob;a.setWithCredentials(!0),a.listenOnce(tb.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case eb.NO_ERROR:const t=a.getResponseJson();pb(yk,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case eb.TIMEOUT:pb(yk,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Sb(Eb.DEADLINE_EXCEEDED,"Request time out"));break;case eb.HTTP_ERROR:const n=a.getStatus();if(pb(yk,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Eb).indexOf(t)>=0?t:Eb.UNKNOWN}(t.status);o(new Sb(e,t.message))}else o(new Sb(Eb.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Sb(Eb.UNAVAILABLE,"Connection failed."));break;default:yb()}}finally{pb(yk,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);pb(yk,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=mk(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Jw(),o=Zw(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new ib({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");pb(yk,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new vk({ro:t=>{d?pb(yk,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(pb(yk,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),pb(yk,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,sb.EventType.OPEN,(()=>{d||pb(yk,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,sb.EventType.CLOSE,(()=>{d||(d=!0,pb(yk,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,sb.EventType.ERROR,(t=>{d||(d=!0,gb(yk,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Sb(Eb.UNAVAILABLE,"The operation could not be completed")))})),p(u,sb.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];wb(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){pb(yk,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=DT[e];if(void 0!==t)return OT(t)}(t),i=o.message;void 0===n&&(n=Eb.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new Sb(n,i)),u.close()}else pb(yk,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(o,nb.STAT_EVENT,(t=>{t.stat===rb.PROXY?pb(yk,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===rb.NOPROXY&&pb(yk,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function bk(){return"undefined"!=typeof document?document:null}function Ek(e){return new nx(e,!0)}class Sk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&pb("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Tk{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Sk(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Eb.RESOURCE_EXHAUSTED?(mb(t.toString()),mb("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Eb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Sb(Eb.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return pb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(pb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xk extends Tk{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(wb(void 0===t||"string"==typeof t),gE.fromBase64String(t||"")):(wb(void 0===t||t instanceof Uint8Array),gE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Eb.UNKNOWN:OT(e.code);return new Sb(t,e.message||"")}(o);n=new QT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=hx(e,r.document.name),s=ax(r.document.updateTime),o=r.document.createTime?ax(r.document.createTime):Fb.min(),a=new zE({mapValue:{fields:r.document.fields}}),l=HE.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new KT(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=hx(e,r.document),s=r.readTime?ax(r.readTime):Fb.min(),o=HE.newNoDocument(i,s),a=r.removedTargetIds||[];n=new KT([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=hx(e,r.document),s=r.removedTargetIds||[];n=new KT([],s,i,null)}else{if(!("filter"in t))return yb();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new NT(r,i),o=e.targetId;n=new GT(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Fb.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Fb.min():t.readTime?ax(t.readTime):Fb.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=px(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vS(r)?{documents:yx(e,r)}:{query:wx(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=sx(e,t.resumeToken);const r=rx(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Fb.min())>0){n.readTime=ix(e,t.snapshotVersion.toTimestamp());const r=rx(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yb()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=px(this.serializer),t.removeTarget=e,this.Wo(t)}}class kk extends Tk{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(wb(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ax(e.updateTime):ax(t);return n.isEqual(Fb.min())&&(n=ax(t)),new dT(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ax(e.commitTime);return this.listener.cu(n,t)}return wb(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=px(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>vx(this.serializer,e)))};this.Wo(t)}}class Ck extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Sb(Eb.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Eb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sb(Eb.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Eb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sb(Eb.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Ik{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(mb(t),this.mu=!1):pb("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _k{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Fk(this)&&(pb("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bb(e);t.vu.add(4),await Pk(t),t.bu.set("Unknown"),t.vu.delete(4),await Ak(t)}(this))}))})),this.bu=new Ik(n,r)}}async function Ak(e){if(Fk(e))for(const t of e.Ru)await t(!0)}async function Pk(e){for(const t of e.Ru)await t(!1)}function Nk(e,t){const n=bb(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Lk(n)?Ok(n):tC(n).Ko()&&Rk(n,t))}function Dk(e,t){const n=bb(e),r=tC(n);n.Au.delete(t),r.Ko()&&Mk(n,t),0===n.Au.size&&(r.Ko()?r.jo():Fk(n)&&n.bu.set("Unknown"))}function Rk(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Fb.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tC(e).su(t)}function Mk(e,t){e.Vu.qt(t),tC(e).iu(t)}function Ok(e){e.Vu=new XT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),tC(e).start(),e.bu.gu()}function Lk(e){return Fk(e)&&!tC(e).Uo()&&e.Au.size>0}function Fk(e){return 0===bb(e).vu.size}function jk(e){e.Vu=void 0}async function Vk(e){e.Au.forEach(((t,n)=>{Rk(e,t)}))}async function Uk(e,t){jk(e),Lk(e)?(e.bu.Iu(t),Ok(e)):e.bu.set("Unknown")}async function Bk(e,t,n){if(e.bu.set("Online"),t instanceof QT&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){pb("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await zk(e,n)}else if(t instanceof KT?e.Vu.Ht(t):t instanceof GT?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Fb.min()))try{const t=await rk(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(gE.EMPTY_BYTE_STRING,r.snapshotVersion)),Mk(e,t);const i=new Px(r.target,t,n,r.sequenceNumber);Rk(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){pb("RemoteStore","Failed to raise snapshot:",t),await zk(e,t)}}async function zk(e,t,n){if(!Jb(t))throw t;e.vu.add(1),await Pk(e),e.bu.set("Offline"),n||(n=()=>rk(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{pb("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Ak(e)}))}function qk(e,t){return t().catch((n=>zk(e,n,t)))}async function Hk(e){const t=bb(e),n=nC(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Wk(t);)try{const e=await sk(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Kk(t,e)}catch(e){await zk(t,e)}Gk(t)&&Qk(t)}function Wk(e){return Fk(e)&&e.Eu.length<10}function Kk(e,t){e.Eu.push(t);const n=nC(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Gk(e){return Fk(e)&&!nC(e).Uo()&&e.Eu.length>0}function Qk(e){nC(e).start()}async function Yk(e){nC(e).hu()}async function Xk(e){const t=nC(e);for(const n of e.Eu)t.uu(n.mutations)}async function $k(e,t,n){const r=e.Eu.shift(),i=AT.from(r,t,n);await qk(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Hk(e)}async function Jk(e,t){t&&nC(e).ou&&await async function(e,t){if(MT(n=t.code)&&n!==Eb.ABORTED){const n=e.Eu.shift();nC(e).Qo(),await qk(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Hk(e)}var n}(e,t),Gk(e)&&Qk(e)}async function Zk(e,t){const n=bb(e);n.asyncQueue.verifyOperationInProgress(),pb("RemoteStore","RemoteStore received new credentials");const r=Fk(n);n.vu.add(3),await Pk(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Ak(n)}async function eC(e,t){const n=bb(e);t?(n.vu.delete(2),await Ak(n)):t||(n.vu.add(2),await Pk(n),n.bu.set("Unknown"))}function tC(e){return e.Su||(e.Su=function(e,t,n){const r=bb(e);return r.fu(),new xk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Vk.bind(null,e),ao:Uk.bind(null,e),nu:Bk.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Lk(e)?Ok(e):e.bu.set("Unknown")):(await e.Su.stop(),jk(e))}))),e.Su}function nC(e){return e.Du||(e.Du=function(e,t,n){const r=bb(e);return r.fu(),new kk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Yk.bind(null,e),ao:Jk.bind(null,e),au:Xk.bind(null,e),cu:$k.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Hk(e)):(await e.Du.stop(),e.Eu.length>0&&(pb("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class rC{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Tb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new rC(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sb(Eb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iC(e,t){if(mb("AsyncQueue","".concat(t,": ").concat(e)),Jb(e))return new Sb(Eb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class sC{constructor(e){this.comparator=e?(t,n)=>e(t,n)||zb.comparator(t.key,n.key):(e,t)=>zb.comparator(e.key,t.key),this.keyedMap=US(),this.sortedSet=new cE(this.comparator)}static emptySet(e){return new sC(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sC))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new sC;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class oC{constructor(){this.Cu=new cE(zb.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):yb():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class aC{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new aC(e,t,sC.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&AS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class lC{constructor(){this.Nu=void 0,this.listeners=[]}}class cC{constructor(){this.queries=new LS((e=>PS(e)),AS),this.onlineState="Unknown",this.ku=new Set}}async function uC(e,t){const n=bb(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lC),i)try{s.Nu=await n.onListen(r)}catch(e){const n=iC(e,"Initialization of query '".concat(NS(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&pC(n)}async function hC(e,t){const n=bb(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dC(e,t){const n=bb(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&pC(n)}function fC(e,t,n){const r=bb(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function pC(e){e.ku.forEach((e=>{e.next()}))}class mC{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new aC(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=aC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class gC{constructor(e){this.key=e}}class vC{constructor(e){this.key=e}}class yC{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=GS(),this.mutatedKeys=GS(),this.tc=MS(e),this.ec=new sC(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new oC,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=DS(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yb()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new aC(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new oC,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=GS(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new vC(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new gC(n))})),t}hc(e){this.Yu=e.ir,this.Zu=GS();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return aC.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class wC{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bC{constructor(e){this.key=e,this.fc=!1}}class EC{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new LS((e=>PS(e)),AS),this._c=new Map,this.mc=new Set,this.gc=new cE(zb.comparator),this.yc=new Map,this.Ic=new qx,this.Tc={},this.Ec=new Map,this.Ac=Fx.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function SC(e,t){const n=UC(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await ok(n.localStore,CS(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await TC(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Nk(n.remoteStore,e)}return i}async function TC(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await lk(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return MC(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await lk(e.localStore,t,!0),o=new yC(t,s.ir),a=o.sc(s.documents),l=WT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);MC(e,n,c.cc);const u=new wC(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function xC(e,t){const n=bb(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!AS(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ak(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Dk(n.remoteStore,r.targetId),DC(n,r.targetId)})).catch(Xb)):(DC(n,r.targetId),await ak(n.localStore,r.targetId,!0))}async function kC(e,t){const n=bb(e);try{const e=await function(e,t){const n=bb(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(gE.EMPTY_BYTE_STRING,Fb.min()).withLastLimboFreeSnapshotVersion(Fb.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))}));let a=jS(),l=GS();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ik(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(Fb.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return $b.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(wb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?wb(r.fc):e.removedDocuments.size>0&&(wb(r.fc),r.fc=!1))})),await FC(n,e,t)}catch(e){await Xb(e)}}function CC(e,t,n){const r=bb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=bb(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&pC(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function IC(e,t,n){const r=bb(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new cE(zb.comparator);e=e.insert(s,HE.newNoDocument(s,Fb.min()));const n=GS().add(s),i=new HT(Fb.min(),new Map,new cE(Mb),e,n);await kC(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),LC(r)}else await ak(r.localStore,t,!1).then((()=>DC(r,t,n))).catch(Xb)}async function _C(e,t){const n=bb(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=$b.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);wb(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=GS();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);NC(n,r,null),PC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await FC(n,e)}catch(e){await Xb(e)}}async function AC(e,t,n){const r=bb(e);try{const e=await function(e,t){const n=bb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(wb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);NC(r,t,n),PC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await FC(r,e)}catch(n){await Xb(n)}}function PC(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function NC(e,t,n){const r=bb(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function DC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||RC(e,t)}))}function RC(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Dk(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),LC(e))}function MC(e,t,n){for(const r of n)r instanceof gC?(e.Ic.addReference(r.key,t),OC(e,r)):r instanceof vC?(pb("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||RC(e,r.key)):yb()}function OC(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(pb("SyncEngine","New document in limbo: "+n),e.mc.add(r),LC(e))}function LC(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new zb(Vb.fromString(t)),r=e.Ac.next();e.yc.set(r,new bC(n)),e.gc=e.gc.insert(n,r),Nk(e.remoteStore,new Px(CS(bS(n.path)),r,"TargetPurposeLimboResolution",Zb.ct))}}async function FC(e,t,n){const r=bb(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Jx.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=bb(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$b.forEach(t,(t=>$b.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$b.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Jb(e))throw e;pb("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function jC(e,t){const n=bb(e);if(!n.currentUser.isEqual(t)){pb("SyncEngine","User change. New user:",t.toKey());const e=await nk(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Sb(Eb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await FC(n,e.er)}}function VC(e,t){const n=bb(e),r=n.yc.get(t);if(r&&r.fc)return GS().add(r.key);{let e=GS();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function UC(e){const t=bb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IC.bind(null,t),t.dc.nu=dC.bind(null,t.eventManager),t.dc.Pc=fC.bind(null,t.eventManager),t}function BC(e){const t=bb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,t),t}class zC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ek(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return tk(this.persistence,new Zx,e.initialUser,this.serializer)}createPersistence(e){return new Yx($x.zs,this.serializer)}createSharedClientState(e){return new hk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>CC(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jC.bind(null,this.syncEngine),await eC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cC}createDatastore(e){const t=Ek(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new wk(r));var r;return function(e,t,n,r){return new Ck(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>CC(this.syncEngine,e,0),s=fk.D()?new fk:new dk,new _k(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new EC(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=bb(e);pb("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Pk(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class HC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):mb("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class WC{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ub.UNAUTHENTICATED,this.clientId=Rb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{pb("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(pb("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sb(Eb.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(wA){const n=iC(wA,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function KC(e,t){e.asyncQueue.verifyOperationInProgress(),pb("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await nk(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function GC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await YC(e);pb("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Zk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Zk(t.remoteStore,n))),e._onlineComponents=t}function QC(e){return"FirebaseError"===e.name?e.code===Eb.FAILED_PRECONDITION||e.code===Eb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function YC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){pb("FirestoreClient","Using user provided OfflineComponentProvider");try{await KC(e,e._uninitializedComponentsProvider._offline)}catch(wA){const n=wA;if(!QC(n))throw n;gb("Error using user provided cache. Falling back to memory cache: "+n),await KC(e,new zC)}}else pb("FirestoreClient","Using default OfflineComponentProvider"),await KC(e,new zC);return e._offlineComponents}async function XC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(pb("FirestoreClient","Using user provided OnlineComponentProvider"),await GC(e,e._uninitializedComponentsProvider._online)):(pb("FirestoreClient","Using default OnlineComponentProvider"),await GC(e,new qC))),e._onlineComponents}function $C(e){return XC(e).then((e=>e.syncEngine))}async function JC(e){const t=await XC(e),n=t.eventManager;return n.onListen=SC.bind(null,t.syncEngine),n.onUnlisten=xC.bind(null,t.syncEngine),n}function ZC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Tb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new HC({next:s=>{t.enqueueAndForget((()=>hC(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Sb(Eb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Sb(Eb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new mC(bS(n.path),s,{includeMetadataChanges:!0,Ku:!0});return uC(e,o)}(await JC(e),e.asyncQueue,t,n,r))),r.promise}function eI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Tb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new HC({next:n=>{t.enqueueAndForget((()=>hC(e,o))),n.fromCache&&"server"===r.source?i.reject(new Sb(Eb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new mC(n,s,{includeMetadataChanges:!0,Ku:!0});return uC(e,o)}(await JC(e),e.asyncQueue,t,n,r))),r.promise}function tI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const nI=new Map;function rI(e,t,n){if(!n)throw new Sb(Eb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iI(e){if(!zb.isDocumentKey(e))throw new Sb(Eb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sI(e){if(zb.isDocumentKey(e))throw new Sb(Eb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":yb()}function aI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sb(Eb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oI(e);throw new Sb(Eb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function lI(e,t){if(t<=0)throw new Sb(Eb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class cI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Sb(Eb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Sb(Eb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sb(Eb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sb(Eb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Sb(Eb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Sb(Eb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class uI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Sb(Eb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sb(Eb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kb;switch(e.type){case"firstParty":return new Ab(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sb(Eb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nI.get(e);t&&(pb("ComponentProvider","Removing Datastore"),nI.delete(e),t.terminate())}(this),Promise.resolve()}}function hI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=aI(e,uI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&gb("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ub.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[oc(JSON.stringify({alg:"none",type:"JWT"})),oc(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Sb(Eb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ub(s)}e._authCredentials=new Cb(new xb(t,n))}}class dI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dI(this.firestore,e,this._key)}}class fI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fI(this.firestore,e,this._query)}}class pI extends fI{constructor(e,t,n){super(e,t,bS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dI(this.firestore,null,new zb(e))}withConverter(e){return new pI(this.firestore,e,this._path)}}function mI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ac(e),rI("collection","path",t),e instanceof uI){const n=Vb.fromString(t,...r);return sI(n),new pI(e,null,n)}{if(!(e instanceof dI||e instanceof pI))throw new Sb(Eb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Vb.fromString(t,...r));return sI(n),new pI(e.firestore,null,n)}}function gI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ac(e),1===arguments.length&&(t=Rb.A()),rI("doc","path",t),e instanceof uI){const n=Vb.fromString(t,...r);return iI(n),new dI(e,null,new zb(n))}{if(!(e instanceof dI||e instanceof pI))throw new Sb(Eb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Vb.fromString(t,...r));return iI(n),new dI(e.firestore,e instanceof pI?e.converter:null,new zb(n))}}class vI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Sk(this,"async_queue_retry"),this.Xc=()=>{const e=bk();e&&pb("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=bk();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=bk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Tb;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Jb(e))throw e;pb("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw mb("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=rC.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&yb()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class yI extends uI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new vI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bI(this),this._firestoreClient.terminate()}}function wI(e){return e._firestoreClient||bI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bI(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new xE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,tI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new WC(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class EI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new EI(gE.fromBase64String(e))}catch(e){throw new Sb(Eb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new EI(gE.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class SI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bb(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TI{constructor(e){this._methodName=e}}class xI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sb(Eb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sb(Eb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mb(this._lat,e._lat)||Mb(this._long,e._long)}}const kI=/^__.*__$/;class CI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ST(e,this.data,this.fieldMask,t,this.fieldTransforms):new ET(e,this.data,t,this.fieldTransforms)}}class II{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ST(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _I(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yb()}}class AI{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new AI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return WI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_I(this.ca)&&kI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class PI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ek(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new AI({ca:e,methodName:t,ga:n,path:Bb.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NI(e){const t=e._freezeSettings(),n=Ek(e._databaseId);return new PI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DI(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);BI("Data must be an object, but it was:",o,r);const a=VI(r,o);let l,c;if(s.merge)l=new pE(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=zI(t,r,n);if(!o.contains(i))throw new Sb(Eb.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));KI(e,i)||e.push(i)}l=new pE(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new CI(new zE(a),l,c)}class RI extends TI{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RI}}class MI extends TI{_toFieldTransform(e){return new hT(e.path,new rT)}isEqual(e){return e instanceof MI}}function OI(e,t,n,r){const i=e.ya(1,t,n);BI("Data must be an object, but it was:",i,r);const s=[],o=zE.empty();aE(r,((e,r)=>{const a=HI(t,e,n);r=Ac(r);const l=i.da(a);if(r instanceof RI)s.push(a);else{const e=jI(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new pE(s);return new II(o,a,i.fieldTransforms)}function LI(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[zI(t,r,n)],l=[i];if(s.length%2!=0)throw new Sb(Eb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(zI(t,s[d])),l.push(s[d+1]);const c=[],u=zE.empty();for(let d=a.length-1;d>=0;--d)if(!KI(c,a[d])){const e=a[d];let t=l[d];t=Ac(t);const n=o.da(e);if(t instanceof RI)c.push(e);else{const r=jI(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new pE(c);return new II(u,h,o.fieldTransforms)}function FI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jI(n,e.ya(r?4:3,t))}function jI(e,t){if(UI(e=Ac(e)))return BI("Unsupported field value:",t,e),VI(e,t);if(e instanceof TI)return function(e,t){if(!_I(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=jI(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ac(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return JS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Lb.fromDate(e);return{timestampValue:ix(t.serializer,n)}}if(e instanceof Lb){const n=new Lb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ix(t.serializer,n)}}if(e instanceof xI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof EI)return{bytesValue:sx(t.serializer,e._byteString)};if(e instanceof dI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:lx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(oI(e)))}(e,t)}function VI(e,t){const n={};return lE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aE(e,((e,r)=>{const i=jI(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function UI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Lb||e instanceof xI||e instanceof EI||e instanceof dI||e instanceof TI)}function BI(e,t,n){if(!UI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=oI(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function zI(e,t,n){if((t=Ac(t))instanceof SI)return t._internalPath;if("string"==typeof t)return HI(e,t);throw WI("Field path arguments must be of type string or ",e,!1,void 0,n)}const qI=new RegExp("[~\\*/\\[\\]]");function HI(e,t,n){if(t.search(qI)>=0)throw WI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new SI(...t.split("."))._internalPath}catch(r){throw WI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WI(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Sb(Eb.INVALID_ARGUMENT,a+e+l)}function KI(e,t){return e.some((e=>e.isEqual(t)))}class GI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QI extends GI{data(){return super.data()}}function YI(e,t){return"string"==typeof t?HI(e,t):t instanceof SI?t._internalPath:t._delegate._internalPath}function XI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sb(Eb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $I{}class JI extends $I{}function ZI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof $I&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof n_)).length,n=e.filter((e=>e instanceof e_)).length;if(t>1||t>0&&n>0)throw new Sb(Eb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class e_ extends JI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new e_(e,t,n)}_apply(e){const t=this._parse(e);return l_(e._query,t),new fI(e.firestore,e.converter,IS(e._query,t))}_parse(e){const t=NI(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){a_(o,s);const t=[];for(const n of o)t.push(o_(r,e,n));a={arrayValue:{values:t}}}else a=o_(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||a_(o,s),a=FI(n,"where",o,"in"===s||"not-in"===s);return $E.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function t_(e,t,n){const r=t,i=YI("where",e);return e_._create(i,r,n)}class n_ extends $I{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n_(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:JE.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)l_(n,i),n=IS(n,i)}(e._query,t),new fI(e.firestore,e.converter,IS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class r_ extends JI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new r_(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new QE(t,n);return function(e,t){if(null===SS(e)){const n=TS(e);null!==n&&c_(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new fI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new yS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function i_(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=YI("orderBy",e);return r_._create(n,t)}class s_ extends JI{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new s_(e,t,n)}_apply(e){return new fI(e.firestore,e.converter,_S(e._query,this._limit,this._limitType))}}function o_(e,t,n){if("string"==typeof(n=Ac(n))){if(""===n)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xS(t)&&-1!==n.indexOf("/"))throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Vb.fromString(n));if(!zb.isDocumentKey(r))throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ME(e,new zb(r))}if(n instanceof dI)return ME(e,n._key);throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(oI(n),"."))}function a_(e,t){if(!Array.isArray(e)||0===e.length)throw new Sb(Eb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function l_(e,t){if(t.isInequality()){const n=TS(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=SS(e);null!==i&&c_(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Sb(Eb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Sb(Eb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function c_(e,t,n){if(!n.isEqual(t))throw new Sb(Eb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class u_{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(IE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yb()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return aE(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new xI(wE(e.latitude),wE(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=SE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(TE(e));default:return null}}convertTimestamp(e){const t=yE(e);return new Lb(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Vb.fromString(e);wb(Ax(n));const r=new kE(n.get(1),n.get(3)),i=new zb(n.popFirst(5));return r.isEqual(t)||mb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function h_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class d_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f_ extends GI{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new p_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(YI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class p_ extends f_{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class m_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new d_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new p_(this._firestore,this._userDataWriter,n.key,n,new d_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sb(Eb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new p_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new d_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new p_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new d_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:g_(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function g_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yb()}}class v_ extends u_{constructor(e){super(),this.firestore=e}convertBytes(e){return new EI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dI(this.firestore,null,t)}}function y_(e){e=aI(e,fI);const t=aI(e.firestore,yI),n=wI(t),r=new v_(t);return XI(e._query),eI(n,e._query).then((n=>new m_(t,r,e,n)))}function w_(e,t){return function(e,t){const n=new Tb;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=BC(e);try{const e=await function(e,t){const n=bb(e),r=Lb.now(),i=t.reduce(((e,t)=>e.add(t.key)),GS());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=jS(),l=GS();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=wT(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new ST(e.key,t,qE(t.value.mapValue),fT.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:BS(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new cE(Mb)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await FC(r,e.changes),await Hk(r.remoteStore)}catch(e){const t=iC(e,"Failed to persist write");n.reject(t)}}(await $C(e),t,n))),n.promise}(wI(e),t)}function b_(e,t,n){const r=n.docs.get(t._key),i=new v_(e);return new f_(e,i,t._key,r,new d_(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){hb=e}(Uu),Lu(new Pc("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new yI(new Ib(e.getProvider("auth-internal")),new Nb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sb(Eb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kE(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),qu(cb,"3.13.0",e),qu(cb,"3.13.0","esm2017")}();const E_=Bu({apiKey:"AIzaSyBGp2wgf81BINwYym6q5fRNDS_gLIcl0W4",authDomain:"trezo0.firebaseapp.com",projectId:"trezo0",storageBucket:"trezo0.appspot.com",messagingSenderId:"966520233112",appId:"1:966520233112:web:b9c6f93945acdc613c44ed",measurementId:"G-KMLLHPJW07"}),S_=ip(E_),T_=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Fu("object"==typeof e?e:zu(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=uc(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&hI(r,...e)}return r}(E_);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zu();e=Ac(e);const t=Fu(e,hm);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Fu(e,hm);if(n.isInitialized()){const e=n.getImmediate();if(Ec(t,n.getOptions()))return e;throw pm.create("already-initialized")}const r=n.initialize({options:t})}(e)}(E_);const x_=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[h,d]=(0,i.useState)(!1),f=ee();return(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(3*Math.random()+2,"s")}))}),[]),(0,Me.jsxs)("div",{className:"login-page",children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),(0,Me.jsxs)(nc.div,{className:"login-box",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},children:[(0,Me.jsx)("h2",{children:"Login"}),(0,Me.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(""),l("");try{await function(e,t,n){return zd(Ac(e),Id.credential(t,n))}(S_,e,n),d(!0),u(!0),setTimeout((()=>{f("/")}),2500)}catch(s){"auth/wrong-password"===s.code?o("Wrong password. Please try again."):"auth/user-not-found"===s.code?o("No user found with this email."):o("Invalid Email or Password.")}},children:[(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Email"}),(0,Me.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Password"}),(0,Me.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),s&&(0,Me.jsx)("p",{className:"error",style:{color:"white"},children:s}),a&&(0,Me.jsx)("p",{className:"success",style:{color:"white"},children:a}),(0,Me.jsx)(nc.button,{type:"submit",className:"login-button",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Login"}),(0,Me.jsx)("p",{className:"forgot-password",onClick:async()=>{if(e)try{await async function(e,t,n){var r;const i=hd(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await ld(i,s,"getOobCode",!0);n&&qd(i,e,n),await bd(i,e)}else n&&qd(i,s,n),await bd(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await ld(i,s,"getOobCode",!0);n&&qd(i,e,n),await bd(i,e)}}))}(S_,e),l("Password reset link sent to your email."),o("")}catch(s){o("Failed to send reset email. Please check your email."),l("")}else o("Please enter your email to reset password.")},children:"Forgot Password?"}),(0,Me.jsxs)("p",{className:"signup-option",children:["New User? ",(0,Me.jsx)(Ne,{to:"/signup",children:"Sign Up"})]})]})]}),c&&(0,Me.jsxs)(nc.div,{className:"thank-you-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,Me.jsx)("h2",{children:"Thank You for Trusting Us! \ud83d\ude4c"}),(0,Me.jsx)("p",{style:{color:"white"},children:"We appreciate your trust and look forward to serving you."})]})]})},k_=(0,i.createContext)(),C_=e=>{let{children:t}=e;const[n,r]=(0,i.useState)([]);return(0,Me.jsx)(k_.Provider,{value:{cart:n,addToCart:e=>{r((t=>t.find((t=>t.id===e.id))?t.map((t=>t.id===e.id?ft(ft({},t),{},{quantity:t.quantity+1}):t)):[...t,ft(ft({},e),{},{quantity:1})]))},updateCartItem:(e,t)=>{r((n=>n.map((n=>n.id===e.id?ft(ft({},n),{},{quantity:t}):n))))},removeFromCart:e=>{r((t=>t.filter((t=>t.id!==e.id))))},clearCart:()=>{r([])}},children:t})},I_=()=>(0,i.useContext)(k_);function __(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(wA){s(wA)}}function a(e){try{l(r.throw(e))}catch(wA){s(wA)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function A_(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(wA){s=[6,wA],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var P_=function(){return P_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P_.apply(this,arguments)},N_=function(e){return{loading:void 0===e||null===e,value:e}},D_=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return P_(P_({},e),{error:t.error,loading:!1,value:void 0});case"reset":return N_(t.defaultValue);case"value":return P_(P_({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),N_(t)),r=n[0],s=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})}),[e]),a=(0,i.useCallback)((function(e){s({type:"error",error:e})}),[]),l=(0,i.useCallback)((function(e){s({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:a,setValue:l,value:r.value}}),[r.error,r.loading,o,a,l,r.value])},R_=function(e,t){var n=D_((function(){return e.currentUser})),r=n.error,s=n.loading,o=n.setError,a=n.setValue,l=n.value;return(0,i.useEffect)((function(){var n=function(e,t,n,r){return Ac(e).onAuthStateChanged(t,n,r)}(e,(function(e){return __(void 0,void 0,void 0,(function(){var n;return A_(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return a(e),[2]}}))}))}),o);return function(){n()}}),[e]),[l,s,r]},M_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O_=i.createContext&&i.createContext(M_),L_=["attr","size","title"];function F_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(this,arguments)}function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V_(Object(n),!0).forEach((function(t){B_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_(e){return e&&e.map(((e,t)=>i.createElement(e.tag,U_({key:t},e.attr),z_(e.child))))}function q_(e){return t=>i.createElement(H_,j_({attr:U_({},e.attr)},t),z_(e.child))}function H_(e){var t=t=>{var n,{attr:r,size:s,title:o}=e,a=F_(e,L_),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",j_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:U_(U_({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==O_?i.createElement(O_.Consumer,null,(e=>t(e))):t(M_)}function W_(e){return q_({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function K_(e){return q_({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function G_(e){return q_({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Q_(e){return q_({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Y_(e){return q_({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function X_(e){return q_({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function $_(e){return q_({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function J_(e){return q_({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const Z_=function(){const{cart:e}=I_(),[t]=R_(S_);return(0,Me.jsxs)(nc.nav,{className:"navbar",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},children:[(0,Me.jsx)(nc.div,{className:"navbar-left",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:(0,Me.jsx)(Ne,{to:"/",className:"logo",children:"Trezo"})}),(0,Me.jsxs)("ul",{className:"navbar-list",children:[t?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(nc.li,{whileHover:{scale:1.1},children:(0,Me.jsxs)(Ne,{to:"/orders",className:"nav-link",children:[(0,Me.jsx)(W_,{className:"nav-icon"})," My Orders"]})}),(0,Me.jsx)(nc.li,{whileHover:{scale:1.1},children:(0,Me.jsx)(Ne,{to:"/profile",className:"nav-link",children:"Profile"})})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(nc.li,{whileHover:{scale:1.1},children:(0,Me.jsx)(Ne,{to:"/login",className:"nav-link",children:"Login"})}),(0,Me.jsx)(nc.li,{whileHover:{scale:1.1},children:(0,Me.jsx)(Ne,{to:"/signup",className:"nav-link",children:"Signup"})})]}),t&&(0,Me.jsx)(nc.li,{className:"cart-container",whileHover:{scale:1.2},transition:{type:"spring",stiffness:200},children:(0,Me.jsxs)(Ne,{to:"/cart",className:"cart-icon",children:[(0,Me.jsx)($_,{className:"nav-icon"}),e.length>0&&(0,Me.jsx)(nc.span,{className:"cart-count",animate:{scale:[1,1.3,1]},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},children:e.length})]})}),t&&(0,Me.jsx)(nc.li,{whileHover:{scale:1.1},className:"logout-button",children:(0,Me.jsx)(nc.button,{onClick:()=>S_.signOut(),whileHover:{backgroundColor:"#ff4d4d",scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:"Logout"})})]})]})};const eA=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),h=ee();return(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(3*Math.random()+2,"s")}))}),[]),(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Z_,{}),(0,Me.jsxs)("div",{className:"signup-page",children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),!c&&(0,Me.jsx)("div",{className:"signup-container",children:(0,Me.jsxs)("div",{className:"signup-box",children:[(0,Me.jsx)("h2",{children:"Signup"}),(0,Me.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o("");try{await async function(e,t,n){var r;const i=hd(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await ld(i,s,"signUpPassword");o=Md(i,e)}else o=Md(i,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await ld(i,s,"signUpPassword");return Md(i,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await Od._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(S_,e,n),u(!0),l(!0),setTimeout((()=>{h("/")}),3e3)}catch(s){o(s.message)}},children:[(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Email"}),(0,Me.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Password"}),(0,Me.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),s&&(0,Me.jsx)("p",{className:"error",style:{color:"white"},children:s}),(0,Me.jsx)(nc.button,{type:"submit",className:"signup-button",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Signup"})]}),(0,Me.jsxs)("p",{className:"signup-link",children:["Already Registered? ",(0,Me.jsx)(Ne,{to:"/login",children:"Login"})]})]})}),a&&(0,Me.jsxs)("div",{className:"welcome-message",children:[(0,Me.jsx)("h2",{children:"\ud83c\udf89 Welcome to Our Platform! \ud83c\udf89"}),(0,Me.jsx)("p",{style:{color:"white"},children:"We're excited to have you here."})]})]})]})},tA=[{id:1,title:"Iqoo Neo",category:"Mobiles",imageName:"mobile1.jpg",price:"Rs 17,999",description:"A powerful smartphone with latest features."},{id:2,title:"Samsung TV",category:"Televisions",imageName:"tv1.jpg",price:"Rs 47,999",description:"A high-definition smart television."},{id:3,title:"Smart Watch",category:"Watches",imageName:"watch1.jpg",price:"Rs 1,999",description:"A stylish and feature-packed smartwatch."},{id:4,title:"Dell Alienware",category:"Laptops",imageName:"laptop1.jpg",price:"Rs 55,999",description:"A high-performance laptop for all your needs."},{id:5,title:"Asus ROG",category:"Laptops",imageName:"laptop2.jpg",price:"Rs 89,999",description:"A laptop built for gaming with high-end specs."},{id:6,title:"Fitness Watch",category:"Watches",imageName:"watch2.jpg",price:"Rs 2,499",description:"A smartwatch designed for fitness enthusiasts."},{id:7,title:"Sony 4K TV",category:"Televisions",imageName:"tv2.jpg",price:"Rs 67,999",description:"An ultra HD 4K smart television."},{id:8,title:"iPhone 15",category:"Mobiles",imageName:"mobile2.jpg",price:"Rs 79,999",description:"A premium smartphone with top-tier features."}],nA=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)("All"),s=tA.filter((t=>{const r=t.title.toLowerCase().includes(e.toLowerCase()),i="All"===n||t.category===n;return r&&i}));(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(2*Math.random()+1,"s")}))}),[]);return(0,Me.jsxs)(nc.div,{className:"home-page",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),(0,Me.jsx)("div",{className:"category-container",children:["All","Mobiles","Televisions","Watches","Laptops"].map((e=>(0,Me.jsx)(nc.button,{onClick:()=>r(e),whileHover:{scale:1.15},whileTap:{scale:.9},className:n===e?"active":"",children:e},e)))}),(0,Me.jsx)("div",{className:"search-bar-container",children:(0,Me.jsx)("input",{type:"text",className:"search-bar",placeholder:"\ud83d\udd0d Search for products...",value:e,onChange:e=>t(e.target.value)})}),(0,Me.jsxs)("div",{className:"main-content",children:[(0,Me.jsx)("h2",{className:"section-title",children:"All"===n?"All Products":"".concat(n," Products")}),(0,Me.jsx)("ul",{className:"product-list",children:s.map(((e,t)=>(0,Me.jsxs)(nc.li,{className:"product-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*t},whileHover:{scale:1.1,boxShadow:"0px 5px 20px rgba(255,255,255,0.3)"},whileTap:{scale:.95},children:[(0,Me.jsx)("div",{className:"product-card-stars",children:[...Array(10)].map(((e,t)=>(0,Me.jsx)("div",{className:"card-star"},t)))}),(0,Me.jsxs)(Ne,{to:"/product/".concat(e.id),className:"product-link",children:[(0,Me.jsx)("img",{src:"/images/".concat(e.imageName),alt:e.title,className:"product-image",style:{backgroundColor:"transparent"}}),(0,Me.jsx)("h3",{children:e.title}),(0,Me.jsx)("p",{children:e.price})]})]},e.id)))})]})]})},rA=()=>{const e=ip().currentUser,t=ee(),[n,r]=(0,i.useState)({fullName:"",phoneNumber:"",shippingAddress:"",paymentMethods:"",email:"",orders:[]}),[s,o]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>{if(!e)return void t("/login");(async()=>{const t=gI(T_,"users",e.uid),n=await function(e){e=aI(e,dI);const t=aI(e.firestore,yI);return ZC(wI(t),e._key).then((n=>b_(t,e,n)))}(t);n.exists()&&r(n.data()),l(!1)})()}),[e,t]);const c=e=>{r(ft(ft({},n),{},{[e.target.name]:e.target.value}))};return(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(3*Math.random()+2,"s")}))}),[]),a?(0,Me.jsx)(nc.div,{className:"loading-screen",children:"Loading..."}):(0,Me.jsxs)("div",{className:"profile-page",children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),(0,Me.jsxs)(nc.div,{className:"profile-container",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,Me.jsxs)("div",{className:"profile-main",children:[(0,Me.jsx)("h2",{className:"profile-title",children:"User Profile"}),s?(0,Me.jsxs)(nc.form,{onSubmit:async t=>{if(t.preventDefault(),!e)return;const r=gI(T_,"users",e.uid);await function(e,t,n){e=aI(e,dI);const r=aI(e.firestore,yI),i=h_(e.converter,t,n);return w_(r,[DI(NI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fT.none())])}(r,n),o(!1)},className:"profile-form",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},children:[(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Name"}),(0,Me.jsxs)("div",{className:"input-field",children:[(0,Me.jsx)(J_,{className:"input-icon"}),(0,Me.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",value:n.fullName,onChange:c,required:!0})]})]}),(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Phone"}),(0,Me.jsxs)("div",{className:"input-field",children:[(0,Me.jsx)(Y_,{className:"input-icon"}),(0,Me.jsx)("input",{type:"text",name:"phoneNumber",placeholder:"Phone Number",value:n.phoneNumber,onChange:c,required:!0})]})]}),(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Shipping Address"}),(0,Me.jsxs)("div",{className:"input-field",children:[(0,Me.jsx)(Q_,{className:"input-icon"}),(0,Me.jsx)("input",{type:"text",name:"shippingAddress",placeholder:"Shipping Address",value:n.shippingAddress,onChange:c,required:!0})]})]}),(0,Me.jsxs)("div",{className:"input-group",children:[(0,Me.jsx)("label",{children:"Payment Methods"}),(0,Me.jsxs)("div",{className:"input-field",children:[(0,Me.jsx)(K_,{className:"input-icon"}),(0,Me.jsx)("input",{type:"text",name:"paymentMethods",placeholder:"Payment Methods",value:n.paymentMethods,onChange:c,required:!0})]})]}),(0,Me.jsxs)(nc.button,{type:"submit",className:"edit-button small-button",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Me.jsx)(X_,{})," Save Profile"]})]}):(0,Me.jsxs)(nc.div,{className:"profile-details",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Name:"})," ",n.fullName]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Phone:"})," ",n.phoneNumber]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Shipping Address:"})," ",n.shippingAddress]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Payment Methods:"})," ",n.paymentMethods]}),(0,Me.jsxs)(nc.button,{className:"edit-button small-button",onClick:()=>o(!0),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Me.jsx)(G_,{})," Edit Profile"]})]})]}),(0,Me.jsxs)("div",{className:"profile-sidebar",children:[(0,Me.jsx)("h3",{className:"sidebar-title",children:"Profile Overview"}),(0,Me.jsx)("ul",{className:"sidebar-list",children:(0,Me.jsx)("li",{className:"sidebar-item",children:"Member since: Jan 2025"})}),(0,Me.jsx)("h3",{className:"sidebar-title",children:"Customer Support"}),(0,Me.jsx)("p",{className:"sidebar-text",children:"Call: +91 2345678912"}),(0,Me.jsx)("p",{className:"sidebar-text",children:"Email: udaycloudacc@outlook.com"})]})]})]})},iA=e=>{let{id:t,title:n,imageName:r,price:i}=e;return(0,Me.jsx)("div",{className:"product-card",children:(0,Me.jsx)(Ne,{to:"/product/".concat(t),className:"product-link",children:(0,Me.jsxs)("div",{className:"card-container",children:[(0,Me.jsx)("img",{src:"/images/".concat(r),alt:n,className:"product-image"}),(0,Me.jsxs)("div",{className:"product-info",children:[(0,Me.jsx)("h3",{className:"product-title",children:n}),(0,Me.jsx)("p",{className:"product-price",children:i})]})]})})})},sA=[{id:1,title:"Smart Phone",imageName:"product1.jpg",price:"Rs 17,999"},{id:2,title:"Television",imageName:"product2.jpg",price:"Rs 47,999"},{id:3,title:"Smart Watch",imageName:"product3.jpg",price:"Rs 1,999"}],oA=()=>{const[e,t]=(0,i.useState)(sA);return(0,Me.jsx)("div",{className:"product-list",children:0===e.length?(0,Me.jsx)("p",{children:"No products found"}):(0,Me.jsx)("div",{className:"product-grid",children:e.map((e=>(0,Me.jsx)(iA,ft({},e),e.id)))})})},aA=[{id:1,title:"Iqoo Neo",category:"Mobiles",imageName:"mobile1.jpg",price:"Rs 17,999",description:"A powerful smartphone with latest features.",features:["6.5-inch Display","Triple Camera","5000mAh Battery","5G Connectivity"]},{id:2,title:"Samsung TV",category:"Televisions",imageName:"tv1.jpg",price:"Rs 47,999",description:"A high-definition smart television.",features:["55-inch 4K Display","Smart TV with Voice Control","HDR10 Support","Dolby Audio"]},{id:3,title:"Smart Watch",category:"Watches",imageName:"watch1.jpg",price:"Rs 1,999",description:"A stylish and feature-packed smartwatch.",features:["Heart Rate Monitor","Sleep Tracking","Water Resistant","7 Days Battery Life"]},{id:4,title:"Dell Alienware",category:"Laptops",imageName:"laptop1.jpg",price:"Rs 55,999",description:"A high-performance laptop for all your needs.",features:["Intel i7 Processor","16GB RAM","512GB SSD","15.6-inch FHD Display"]},{id:5,title:"ASUS ROG",category:"Laptops",imageName:"laptop2.jpg",price:"Rs 89,999",description:"A laptop built for gaming with high-end specs.",features:["AMD Ryzen 7 Processor","32GB RAM","1TB SSD","144Hz Refresh Rate Display","NVIDIA RTX 3070"]},{id:6,title:"Fitness Watch",category:"Watches",imageName:"watch2.jpg",price:"Rs 2,499",description:"A smartwatch designed for fitness enthusiasts.",features:["Blood Oxygen Monitoring","Step Counter","Multi-Sport Mode","10 Days Battery Life"]},{id:7,title:"Sony 4K TV",category:"Televisions",imageName:"tv2.jpg",price:"Rs 67,999",description:"An ultra HD 4K smart television.",features:["65-inch OLED Display","Dolby Vision & Atmos","Google Assistant & Alexa","120Hz Refresh Rate"]},{id:8,title:"Iphone 15",category:"Mobiles",imageName:"mobile2.jpg",price:"Rs 79,999",description:"A premium smartphone with top-tier features.",features:["6.8-inch Dynamic AMOLED","Apple Intelligence","A16 Bionic Chip","Wireless Charging","IP68 Water Resistant"]}],lA=()=>{const{id:e}=te(),t=ee(),{addToCart:n}=I_(),[r]=R_(S_),s=aA.find((t=>t.id===parseInt(e))),[o,a]=(0,i.useState)(!1);if((0,i.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(3*Math.random()+2,"s")}))}),[]),!s)return(0,Me.jsx)("h2",{children:"Product not found"});const l=aA.filter((e=>e.category===s.category&&e.id!==s.id)).slice(0,2);return(0,Me.jsxs)("div",{className:"product-page",children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),(0,Me.jsxs)("div",{className:"product-page-container",children:[(0,Me.jsx)("div",{className:"product-image-container",children:(0,Me.jsx)("img",{src:"/images/".concat(s.imageName),alt:s.title,className:"product-page-image"})}),(0,Me.jsxs)("div",{className:"product-info",children:[(0,Me.jsx)("h2",{children:s.title}),(0,Me.jsx)("p",{className:"product-price",children:s.price}),(0,Me.jsx)("p",{className:"product-description",children:s.description}),(0,Me.jsx)("h3",{style:{color:"white"},children:"Features:"}),(0,Me.jsx)("ul",{className:"product-features",children:s.features.map(((e,t)=>(0,Me.jsx)("li",{children:e},t)))}),r?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("button",{onClick:()=>{r?(n(s),a(!0)):alert("Please login to add items to the cart.")},className:"add-to-cart-btn",children:"Add to Cart"}),o&&(0,Me.jsxs)("div",{className:"cart-actions",children:[(0,Me.jsx)("button",{onClick:()=>t("/cart"),className:"add-to-cart-btn",children:"Go to Cart"}),(0,Me.jsx)("button",{onClick:()=>t("/"),className:"add-to-cart-btn",children:"Add More Products"})]})]}):(0,Me.jsxs)("p",{children:["Please ",(0,Me.jsx)(Ne,{to:"/login",children:"login"})," to add items to the cart."]}),(0,Me.jsxs)("div",{className:"additional-content",children:[(0,Me.jsxs)("section",{className:"related-products",children:[(0,Me.jsx)("h3",{style:{color:"white"},children:"Recommended Products"}),(0,Me.jsx)("div",{className:"related-products-list",children:l.map((e=>(0,Me.jsx)("div",{className:"related-product-card",children:(0,Me.jsxs)(Ne,{to:"/product/".concat(e.id),className:"related-product-link",children:[(0,Me.jsx)("img",{src:"/images/".concat(e.imageName),alt:e.title,className:"related-product-thumbnail"}),(0,Me.jsx)("p",{style:{color:"white"},children:e.title})]})},e.id)))})]}),(0,Me.jsxs)("section",{className:"customer-reviews",children:[(0,Me.jsx)("h3",{style:{color:"white"},children:"Customer Reviews"}),(0,Me.jsx)("p",{className:"review-placeholder",children:'"Amazing product! Highly recommend it." - User123'}),(0,Me.jsx)("p",{className:"review-placeholder",children:'"Great value for money." - TechGuru'}),(0,Me.jsx)("p",{className:"review-placeholder",children:'"Exceeded my expectations." - HappyCustomer'})]})]})]})]})]})},cA=[{id:1,title:"Iqoo Neo",category:"Mobiles",imageName:"mobile1.jpg",price:"Rs 17,999",description:"A powerful smartphone with latest features."},{id:2,title:"Samsung TV",category:"Televisions",imageName:"tv1.jpg",price:"Rs 47,999",description:"A high-definition smart television."},{id:3,title:"Smart Watch",category:"Watches",imageName:"watch1.jpg",price:"Rs 1,999",description:"A stylish and feature-packed smartwatch."},{id:4,title:"DELL Alienware",category:"Laptops",imageName:"laptop1.jpg",price:"Rs 55,999",description:"A high-performance laptop for all your needs."},{id:5,title:"ASUS ROG",category:"Laptops",imageName:"laptop2.jpg",price:"Rs 89,999",description:"A laptop built for gaming with high-end specs."},{id:6,title:"Fitness Watch",category:"Watches",imageName:"watch2.jpg",price:"Rs 2,499",description:"A smartwatch designed for fitness enthusiasts."},{id:7,title:"Sony 4K TV",category:"Televisions",imageName:"tv2.jpg",price:"Rs 67,999",description:"An ultra HD 4K smart television."},{id:8,title:"Iphone",category:"Mobiles",imageName:"mobile2.jpg",price:"Rs 79,999",description:"A premium smartphone with top-tier features."}],uA=()=>{const{category:e}=te(),t=cA.filter((t=>t.category.toLowerCase()===e.toLowerCase()));return(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(3*Math.random()+2,"s")}))}),[]),(0,Me.jsxs)(nc.div,{className:"category-page",initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.5},children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),(0,Me.jsxs)("h2",{style:{color:"black"},children:[e," Products"]}),(0,Me.jsx)("ul",{className:"product-list",children:t.map((e=>(0,Me.jsx)(nc.li,{className:"product-item",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,Me.jsxs)(Ne,{to:"/product/".concat(e.id),children:[(0,Me.jsx)("img",{src:"/images/".concat(e.imageName),alt:e.title,className:"product-image"}),(0,Me.jsx)("h3",{children:e.title}),(0,Me.jsx)("p",{children:e.price})]})},e.id)))})]})},hA=()=>{const[e]=R_(S_),{cart:t,updateCartItem:n,removeFromCart:r,clearCart:s}=I_(),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)({}),g=ee();(0,i.useEffect)((()=>{if(e){const t=async()=>{const t=ZI(mI(T_,"orders"),t_("userId","==",e.uid),i_("createdAt","desc"),(lI("limit",n=5),s_._create("limit",n,"F")));var n;const r=await y_(t),i={},s=Date.now()-3e5;r.forEach((e=>{var t;const n=e.data();1e3*(null===(t=n.createdAt)||void 0===t?void 0:t.seconds)>s&&n.items.forEach((e=>{i[e.name]=1e3*n.createdAt.seconds}))})),m(i)};t()}}),[e]);const v=t.filter((e=>!p[e.title]||p[e.title]+3e5<Date.now())),y=t.filter((e=>p[e.title]&&p[e.title]+3e5>Date.now()));return(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(2*Math.random()+2,"s")}))}),[]),(0,Me.jsxs)(nc.div,{className:"cart-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,ease:"easeOut"},children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),(0,Me.jsxs)("div",{className:"cart-left",children:[(0,Me.jsx)(nc.h2,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:"Your Cart"}),(0,Me.jsx)(nc.div,{className:"cart-grid",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:0===t.length?(0,Me.jsx)("p",{style:{color:"white"},className:"empty-cart",children:"Your cart is empty."}):t.map(((e,t)=>(0,Me.jsxs)(nc.div,{className:"cart-item",whileHover:{scale:1.05},transition:{type:"spring",stiffness:200},children:[(0,Me.jsx)("img",{src:"/images/".concat(e.imageName),alt:e.title,className:"cart-image"}),(0,Me.jsxs)("div",{className:"cart-details",children:[(0,Me.jsx)("h3",{children:e.title}),(0,Me.jsx)("p",{children:e.price})]}),(0,Me.jsxs)("div",{className:"cart-actions",children:[(0,Me.jsx)(nc.button,{className:"cart-btn",onClick:()=>e.quantity>1?n(e,e.quantity-1):r(e),whileTap:{scale:.9},children:"-"}),(0,Me.jsx)("span",{className:"cart-quantity",children:e.quantity}),(0,Me.jsx)(nc.button,{className:"cart-btn",onClick:()=>n(e,e.quantity+1),whileTap:{scale:.9},children:"+"})]})]},t)))})]}),(0,Me.jsxs)(nc.div,{className:"cart-right",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3,duration:.5},children:[(0,Me.jsxs)("h3",{style:{color:"white"},children:["Total: Rs"," ",v.reduce(((e,t)=>e+parseInt(t.price.replace("Rs ","").replace(",",""))*t.quantity),0).toLocaleString()]}),d?(0,Me.jsxs)("div",{className:"success-message",children:[(0,Me.jsx)("h3",{children:"Purchase Successful!"}),(0,Me.jsx)("p",{children:"Your shipment is secured."}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Delivery Code:"})," ",u]})]}):t.length>0&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(nc.textarea,{className:"address-input",placeholder:"Enter your shipping address...",value:o,onChange:e=>a(e.target.value),style:{color:"black"},whileFocus:{borderColor:"#6e8efb",scale:1.02}}),(0,Me.jsxs)(nc.select,{className:"payment-dropdown",value:l,onChange:e=>c(e.target.value),whileFocus:{scale:1.05},children:[(0,Me.jsx)("option",{value:"",children:"Select Payment Method"}),(0,Me.jsx)("option",{value:"Cash On-Delivery",children:"Cash On-Delivery"}),(0,Me.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,Me.jsx)("option",{value:"Internet Banking",children:"Internet Banking"})]}),y.length>0&&(0,Me.jsxs)("p",{className:"order-warning",children:["You have already purchased: ",y.map((e=>e.title)).join(", "),".",(0,Me.jsx)("button",{className:"remove-duplicate",onClick:()=>y.forEach((e=>r(e))),children:"Remove them to continue"})]}),(0,Me.jsx)(nc.button,{onClick:async()=>{if(!o||!l||0===v.length)return;const t=Math.random().toString(36).substring(2,10).toUpperCase();h(t),f(!0);const n=v.reduce(((e,t)=>e+parseInt(t.price.replace("Rs ","").replace(",",""))*t.quantity),0),r={userId:e.uid,items:v.map((e=>({name:e.title,price:e.price,quantity:e.quantity}))),totalPrice:n,address:o,paymentMethod:l,deliveryCode:t,createdAt:new MI("serverTimestamp")};await function(e,t){const n=aI(e.firestore,yI),r=gI(e),i=h_(e.converter,t);return w_(n,[DI(NI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fT.exists(!1))]).then((()=>r))}(mI(T_,"orders"),r),m((e=>ft(ft({},e),v.reduce(((e,t)=>(e[t.title]=Date.now(),e)),{})))),s(),setTimeout((()=>{g("/orders")}),3e3)},className:"purchase-btn",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:0===v.length,children:"Complete Purchase"})]}),(0,Me.jsx)(nc.div,{whileHover:{scale:1.05},transition:{duration:.3},children:(0,Me.jsx)(Ne,{to:"/",className:"continue-shopping",children:"Continue Shopping"})})]})]})},dA=[{id:1,title:"Iqoo Neo",category:"Mobiles",imageName:"mobile1.jpg",price:"Rs 17,999"},{id:2,title:"Samsung TV",category:"Televisions",imageName:"tv1.jpg",price:"Rs 47,999"},{id:3,title:"Smart Watch",category:"Watches",imageName:"watch1.jpg",price:"Rs 1,999"},{id:4,title:"Dell Alienware",category:"Laptops",imageName:"laptop1.jpg",price:"Rs 55,999"},{id:5,title:"ASUS ROG",category:"Laptops",imageName:"laptop2.jpg",price:"Rs 89,999"},{id:6,title:"Fitness Watch",category:"Watches",imageName:"watch2.jpg",price:"Rs 2,499"},{id:7,title:"Sony 4K TV",category:"Televisions",imageName:"tv2.jpg",price:"Rs 67,999"},{id:8,title:"Iphone 15",category:"Mobiles",imageName:"mobile2.jpg",price:"Rs 79,999"}],fA=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[s]=R_(S_);(0,i.useEffect)((()=>{if(s){const e=async()=>{const e=ZI(mI(T_,"orders"),t_("userId","==",s.uid),i_("createdAt","desc")),n=await y_(e),r=await Promise.all(n.docs.map((async e=>{var t;const n=e.data();if(!n.items)return null;const r=(null!==(t=n.createdAt)&&void 0!==t&&t.seconds?new Date(1e3*n.createdAt.seconds):new Date).toISOString().replace(/[-:T.]/g,"").substring(0,14);let i=n.otp||o();return n.otp||await function(e,t,n){e=aI(e,dI);const r=aI(e.firestore,yI),i=NI(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Ac(t))||t instanceof SI?LI(i,"updateDoc",e._key,t,n,a):OI(i,"updateDoc",e._key,t),w_(r,[s.toMutation(e._key,fT.exists(!0))])}(gI(T_,"orders",e.id),{otp:i}),ft({id:r,otp:i},n)})));t(r.filter((e=>null!==e)))};e()}}),[s]);const o=()=>Math.floor(1e5+9e5*Math.random()).toString();return(0,i.useEffect)((()=>{document.querySelectorAll(".star").forEach((e=>{e.style.left="".concat(100*Math.random(),"vw"),e.style.top="".concat(100*Math.random(),"vh"),e.style.animationDuration="".concat(3*Math.random()+2,"s")}))}),[]),(0,Me.jsxs)("div",{className:"orders-page",children:[(0,Me.jsx)("div",{className:"stars-container",children:[...Array(50)].map(((e,t)=>(0,Me.jsx)("div",{className:"star"},t)))}),(0,Me.jsx)("div",{className:"orders-list-container",children:0===e.length?(0,Me.jsx)("p",{style:{color:"white"},className:"empty-orders",children:"No orders placed yet."}):e.map((e=>(0,Me.jsxs)("div",{className:"order-row",children:[(0,Me.jsxs)(nc.div,{className:"order-card",onClick:()=>{return t=e.id,void r(t===n?null:t);var t},whileHover:{scale:1.02},transition:{type:"spring",stiffness:200},children:[(0,Me.jsxs)("h3",{children:["Order ID: ",e.id]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Date:"})," ",e.id.substring(0,4),"-",e.id.substring(4,6),"-",e.id.substring(6,8)]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Time:"})," ",e.id.substring(8,10),":",e.id.substring(10,12),":",e.id.substring(12,14)]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Total:"})," Rs"," ",e.totalPrice?e.totalPrice.toLocaleString():"0"]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Status:"})," ",(0,Me.jsx)("span",{className:"order-status",children:e.status||"Success"})]})]}),n===e.id&&(0,Me.jsxs)(nc.div,{className:"order-details-popup",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,Me.jsx)("h2",{children:"Order Details"}),(0,Me.jsx)("div",{className:"order-items-container",children:e.items.map(((e,t)=>{const n=dA.find((t=>t.title===e.name)),r=n?"/images/".concat(n.imageName):"/images/default.jpg";return(0,Me.jsxs)("div",{className:"order-item",children:[(0,Me.jsx)("img",{src:r,alt:e.name,className:"order-item-image",onError:e=>e.target.style.display="none"}),(0,Me.jsxs)("div",{className:"order-item-details",children:[(0,Me.jsx)("h3",{children:e.name}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Quantity:"})," ",e.quantity]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Price:"})," Rs ",e.price.toLocaleString()]})]})]},t)}))}),(0,Me.jsxs)("p",{className:"order-total",children:[(0,Me.jsx)("strong",{children:"Total:"})," Rs ",e.totalPrice?e.totalPrice.toLocaleString():"0"]}),(0,Me.jsxs)("p",{style:{color:"white"},children:[(0,Me.jsx)("strong",{children:"Payment Method:"})," ",e.paymentMethod]}),(0,Me.jsxs)("p",{style:{color:"white"},children:[(0,Me.jsx)("strong",{children:"Delivery Address:"})," ",e.address]}),(0,Me.jsxs)("p",{style:{color:"white"},children:[(0,Me.jsx)("strong",{children:"Estimate Delivery Date:"})," 3 days"]}),(0,Me.jsxs)("p",{className:"otp-code",children:[(0,Me.jsx)("strong",{children:"Delivery OTP:"})," ",(0,Me.jsx)("span",{children:e.otp})]})]})]},e.id)))})]})},pA={initial:{opacity:0,x:-30},animate:{opacity:1,x:0,transition:{duration:.5}},exit:{opacity:0,x:30,transition:{duration:.3}}};function mA(){const e=J();return(0,Me.jsx)(Qe,{mode:"wait",children:(0,Me.jsxs)(be,{location:e,children:[(0,Me.jsx)(ye,{path:"/",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(nA,{})})}),(0,Me.jsx)(ye,{path:"/products",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(oA,{})})}),(0,Me.jsx)(ye,{path:"/product/:id",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(lA,{})})}),(0,Me.jsx)(ye,{path:"/category/:category",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(uA,{})})}),(0,Me.jsx)(ye,{path:"/cart",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(hA,{})})}),(0,Me.jsx)(ye,{path:"/orders",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(fA,{})})}),(0,Me.jsx)(ye,{path:"/login",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(x_,{})})}),(0,Me.jsx)(ye,{path:"/signup",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(eA,{})})}),(0,Me.jsx)(ye,{path:"/profile",element:(0,Me.jsx)(nc.div,{variants:pA,initial:"initial",animate:"animate",exit:"exit",children:(0,Me.jsx)(rA,{})})})]},e.pathname)})}function gA(){const[e,t]=(0,i.useState)(null),n=ee();(0,i.useEffect)((()=>{const e=S_.onAuthStateChanged(t);return()=>e()}),[]);return(0,Me.jsxs)(C_,{children:[(0,Me.jsx)(Z_,{user:e,handleLogout:async()=>{await function(e){return Ac(e).signOut()}(S_),t(null),n("/login")}}),(0,Me.jsx)(mA,{})]})}function vA(){return(0,Me.jsx)(_e,{children:(0,Me.jsx)(gA,{})})}const yA=document.getElementById("root");if(yA){o.createRoot(yA).render((0,Me.jsx)(i.StrictMode,{children:(0,Me.jsx)(vA,{})}))}else console.error("Root element not found in the DOM!")})();
//# sourceMappingURL=main.bd10571c.js.map